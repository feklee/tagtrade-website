<!DOCTYPE html 
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>TagTrade Wiki | PmWiki / Release Notes browse</title>
  <meta http-equiv="Content-type" content="text/html;charset=iso-8859-1" />
  <meta http-equiv='Content-Style-Type' content='text/css' />
  <link rel='stylesheet' href='/pmwiki/pub/skins/tagtrade/tagtrade.css' type='text/css' />
  <!--HeaderText--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code.escaped { white-space: nowrap; }
  .vspace { margin-top:1.33em; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  .editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }

  table.markup { border:2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  table.vert td.markup1 { border-bottom:1px solid #ccf; }
  table.horiz td.markup1 { width:23em; border-right:1px solid #ccf; }
  table.markup caption { text-align:left; }
  div.faq p, div.faq pre { margin-left:2em; }
  div.faq p.question { margin:1em 0 0.75em 0; font-weight:bold; }
  div.faqtoc div.faq * { display:none; }
  div.faqtoc div.faq p.question 
    { display:block; font-weight:normal; margin:0.5em 0 0.5em 20px; line-height:normal; }
  div.faqtoc div.faq p.question * { display:inline; }
   
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none; }

--></style>  <meta name='robots' content='noindex,nofollow' />

</head>
<body>
<!--PageHeaderFmt-->
  <div id='wikilogo'><a href=''><img src='/pmwiki/pub/skins/tagtrade/tagtrade-32.gif'
    alt='TagTrade Wiki' border='0' /></a></div>
  <div id='wikihead'>
  </div>
<!--/PageHeaderFmt-->
  <table id='wikimid' width='100%' cellspacing='0' cellpadding='0'><tr>
<!--PageLeftFmt-->
      <td id='wikileft' valign='top'>
        <p class='sidehead'> <a class='wikilink' href='/Main/HomePage'>Main</a>
</p><ul><li><a class='wikilink' href='/Main/Systems'>Systems</a>
</li><li><a class='wikilink' href='/Main/DiscussionGroups'>Discussion groups</a>
</li><li><a class='wikilink' href='/Main/Jabber'>Jabber group chat</a>
</li><li><a class='wikilink' href='/Main/Irc'>IRC channel</a>
</li><li><a class='wikilink' href='/Main/Events'>Events</a>
</li><li><a class='wikilink' href='/Main/TODO'>To do</a>
</li><li><a class='wikilink' href='/Main/WikiSandbox'>Wiki sandbox</a>
</li></ul><p class='vspace sidehead'> <a class='wikilink' href='/Devel/HomePage'>Devel</a>
</p><ul><li><a class='wikilink' href='/Devel/TODO'>To do</a>
</li><li><a class='wikilink' href='/Devel/BackEnd'>Back end</a>
</li><li><a class='wikilink' href='/Devel/FrontEnd'>Front end</a>
</li><li><a class='wikilink' href='/Devel/AuthoringPages'>Authoring pages</a>
</li></ul><p class='vspace sidehead'> <a class='wikilink' href='/Profiles/HomePage'>Profiles</a>
</p>
<p class='vspace sidehead'> <a class='wikilink' href='/PmWiki/PmWiki'>PmWiki</a>
</p>
<p class='vspace sidehead'> <a class='wikilink' href='/DocArchive/HomePage'>Doc archive</a>
</p>
<p class='vspace sidehead'> <a class='wikilink' href='/Portal/HomePage'>Portal</a>
</p><ul><li><a class='wikilink' href='/Portal/WikiSandbox'>Wiki sandbox</a>
</li></ul>
</td>
<!--/PageLeftFmt-->
      <td id='wikibody' valign='top'>
<!--PageTitleFmt-->
        <div id='wikititle'>
          <div class='pagegroup'><a href='/PmWiki'>PmWiki</a> /</div>
          <h1 class='pagetitle'>Release Notes</h1></div>
<!--PageText-->
<div id='wikitext'>
<p>
<a name='trailstart' id='trailstart'></a> 
</p><div style="clear:right; float:right; font-size:smaller; background-color:#eee;" >
<p><span class='wikitrail'>&lt; <a class='wikilink' href='/PmWiki/DesignNotes'>Design notes</a> | <a class='wikilink' href='/PmWiki/DocumentationIndex#trailstart#trailend'>Documentation Index</a> | <a class='wikilink' href='/PmWiki/ChangeLog'>Change log</a> &gt;</span> 
</p></div>
<div style="clear:right;" >
</div>
<h2>Version 2.2.7 (2009-11-08)</h2>
<p>This release fixes most PHP 5.3 compatibility issues. Unfortunately some specific builds for Windows may still have problems, which are unrelated to PmWiki. Notably, on Windows, all passwords need to be 4 characters or longer.
</p>
<p class='vspace'>Upload names with spaces are now correctly quoted. The documentation was updated.
</p>
<div class='vspace'></div><h2>Version 2.2.6 (2009-10-04)</h2>
<p>With this release it is now possible to display recently uploaded files to the RecentChanges pages -- if you have been using the RecentUploadsLog recipe, please uninstall it and follow the instructions at <a class='urllink' href='http://www.pmwiki.org/wiki/Cookbook/RecentUploadsLog' rel='nofollow'>http://www.pmwiki.org/wiki/Cookbook/RecentUploadsLog</a>.
</p>
<p class='vspace'>The release also introduces <a class='varlink' href='/PmWiki/UploadVariables#MakeUploadNamePatterns'><code class='varlink'>&#36;MakeUploadNamePatterns</code></a> to allow custom filename normalization for attachements. It is now possible to replace &#36;PageListFilters and &#36;FPLTemplateFunctions with custom functions. Notify should now work in safe_mode. Some bugs were fixed, among which one with conditional markup with dates. The documentation was updated.
</p>
<div class='vspace'></div><h2>Version 2.2.5 (2009-08-25)</h2>
<p>This release adds a new markup for Pagelist templates, <code class='escaped'>(:template none:)</code> which allows a message to be set when the search found no pages. The FPLTemplate() function was broken into configurable sub-parts to allow development hooks. A number of bugs were fixed, and the documentation was updated.
</p>
<div class='vspace'></div><h2>Version 2.2.4 (2009-07-16)</h2>
<p>This release fixes a bug introduced earlier today with HTML entities in XLPages.
</p>
<div class='vspace'></div><h2>Version 2.2.3 (2009-07-16)</h2>
<p>This release fixes six potential XSS vulnerabilities, reported by Michael Engelke. The vulnerabilities may affect wikis open for editing and may allow the injection of external JavaScripts in their pages. Public open wikis should upgrade.
</p>
<p class='vspace'>A new variable <a class='varlink' href='/PmWiki/UploadVariables#EnableUploadGroupAuth'><code class='varlink'>&#36;EnableUploadGroupAuth</code></a> was added; if set to 1, it allows password-protected <a class='wikilink' href='/PmWiki/Uploads'>uploads</a> to be checked against the Group password. 
</p>
<p class='vspace'>It is now possible to use <code> @_site_edit, @_site_read, @_site_admin</code> or <code> @_site_upload </code> global <a class='wikilink' href='/PmWiki/Passwords'>passwords</a> in GroupAttributes pages.
</p>
<p class='vspace'>A number of other small bugs were fixed, and the documentation was updated.
</p>
<div class='vspace'></div><h2>Version 2.2.2 (2009-06-21)</h2>
<p>The major news in this release is a fix of an AuthUser vulnerability.
</p>
<p class='vspace'>The vulnerability affects only wikis that (1) rely on the AuthUser core module 
for User:Password authentication, -AND- (2) where the PHP installation runs 
with the variable "magic_quotes_gpc" disabled.
</p>
<p class='vspace'>All PmWiki 2.1.x versions from pmwiki-2.1.beta6 on, all 2.2.betaX, 2.2.0, and 
2.2.1 are affected.
</p>
<p class='vspace'>The PmWiki <a class='createlinktext' rel='nofollow' 
    href='/PmWiki/SiteAnalyzer?action=edit'>SiteAnalyzer</a><a rel='nofollow' 
    class='createlink' href='/PmWiki/SiteAnalyzer?action=edit'>?</a> can detect if your wiki needs to upgrade:
</p><pre>  <a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/SiteAnalyzer' rel='nofollow'>http://www.pmwiki.org/wiki/PmWiki/SiteAnalyzer</a>
</pre><p class='vspace'>If your wiki is vulnerable, you should do one of the following at the earliest 
opportunity:
</p>
<div class='vspace'></div><ul><li>Upgrade to a version of PmWiki at least 2.2.2 or greater.
</li><li>Turn on magic_quotes_gpc in the php.ini file or in a .htaccess file.
</li></ul><p class='vspace'>Alternatively, you can temporarily disable AuthUser until you upgrade.
</p>
<p class='vspace'>Note that even if your wiki does not have the AuthUser vulnerability at the 
moment, you are strongly encouraged to upgrade to PmWiki version 2.2.2 or 
later, as some future configuration of your hosting server might put you at 
risk.
</p>
<p class='vspace'>This release also comes with minor updates in the local documentation; fixes 
were applied for international wikis - notably global variables in 
xlpage-utf-8.php and a new variable <a class='varlink' href='/PmWiki/Notify#EnableNotifySubjectEncode'><code class='varlink'>&#36;EnableNotifySubjectEncode</code></a>, which allows 
e-mail clients to correctly display the Subject header; and a number of other 
small bugs were fixed.
</p>
<div class='vspace'></div><h2>Version 2.2.1 (2009-03-28)</h2>
<p>This release comes with an updated local documentation; <a class='wikilink' href='/PmWiki/WikiTrails'>wiki trails</a> now work cross-group; guiedit.php now produces valid HTML, and other small bugs were fixed.  We also added <a class='varlink' href='/PmWiki/LinkVariables#EnableRedirectQuiet'><code class='varlink'>&#36;EnableRedirectQuiet</code></a>, which allows redirects to take place without any mention of "redirected from page ....".
</p>
<div class='vspace'></div><h2>Version 2.2.0 (2009-01-18)</h2>
<p>This is a summary of changes from 2.1.x to 2.2.0.
</p>
<div class='vspace'></div><ul><li>Several pages that were formerly in the <a class='wikilink' href='/Site/Site'>Site</a>.* group are now in a separate <a class='wikilink' href='/SiteAdmin/SiteAdmin'>SiteAdmin</a>.* group, which is read-restricted by default.  The affected pages include Site.AuthUser, Site.AuthList, Site.NotifyList, Site.Blocklist, and Site.ApprovedUrls .  If upgrading from an earlier version of PmWiki, PmWiki will prompt to automatically copy these pages to their new location if needed.  If a site wishes to continue using the old Site.* group for these pages, simply set
</li></ul><div class='vspace'></div><div class='indent'><a class='varlink' href='/PmWiki/BasicVariables#SiteAdminGroup'><code class='varlink'>&#36;SiteAdminGroup</code></a> = <a class='varlink' href='/PmWiki/BasicVariables#SiteGroup'><code class='varlink'>&#36;SiteGroup</code></a>;
<div class='vspace'></div></div><div class='indent'>when carrying out this upgrade inspect your config files for lines such as
<div class='indent'><a class='varlink' href='/PmWiki/Blocklist#BlocklistDownload'><code class='varlink'>&#36;BlocklistDownload</code></a>['Site.Blocklist-PmWiki'] = array('format' =&gt; 'pmwiki');
</div></div><div class='indent'>as you may wish to fix then, eg
<div class='indent'><a class='varlink' href='/PmWiki/Blocklist#BlocklistDownload'><code class='varlink'>&#36;BlocklistDownload</code></a>[<a class='varlink' href='/PmWiki/BasicVariables#SiteAdminGroup'><code class='varlink'>&#36;SiteAdminGroup</code></a> . '.Blocklist-PmWiki'] = array('format' =&gt; 'pmwiki');
</div></div><div class='vspace'></div><ul><li>Important Change in Passwords in PmWiki 2.2 indicating that the group can be edited even if a site password is set will be done by <code>"@nopass"</code> prior it was done by <code>"nopass"</code>
</li></ul><div class='indent'>When migrating a wiki you will have to manually modify the permission or by a script replace in all the page concerned <code>passwdread=nopass:</code> by <code>passwdread=@nopass</code> (see <a class='urllink' href='http://www.pmwiki.org/PITS/00961' rel='nofollow'>PITS:00961</a>) --isidor
</div><div class='vspace'></div><ul><li>PmWiki now ships with WikiWords entirely disabled by default.  To re-enable them, set either <a class='varlink' href='/PmWiki/BasicVariables#LinkWikiWords'><code class='varlink'>&#36;LinkWikiWords</code></a> or <a class='varlink' href='/PmWiki/BasicVariables#EnableWikiWords'><code class='varlink'>&#36;EnableWikiWords</code></a> to 1.  To get the 2.1 behavior where WikiWords are spaced and parsed but don't form links, use the following:
</li></ul><div class='indent'><a class='varlink' href='/PmWiki/BasicVariables#EnableWikiWords'><code class='varlink'>&#36;EnableWikiWords</code></a> = 1;
</div><div class='indent'><a class='varlink' href='/PmWiki/BasicVariables#LinkWikiWords'><code class='varlink'>&#36;LinkWikiWords</code></a> = 0;
</div><div class='vspace'></div><ul><li>It's now easy to disable the rule that causes lines with leading spaces to be treated as preformatted text -- simply set <a class='varlink' href='/PmWiki/BasicVariables#EnableWSPre'><code class='varlink'>&#36;EnableWSPre</code></a>=0; to disable this rule.
<div class='vspace'></div><div class='indent'><strong>Important:</strong> There is ongoing discussion that the leading whitespace rule may be disabled <em>by default</em> in a future versions of PmWiki.  If you want to make sure that the rule will continue to work in future upgrades, set <a class='varlink' href='/PmWiki/BasicVariables#EnableWSPre'><code class='varlink'>&#36;EnableWSPre</code></a>=1; in <em>local/config.php</em>.
</div><div class='vspace'></div></li><li>The <a class='varlink' href='/PmWiki/EditVariables#ROSPatterns'><code class='varlink'>&#36;ROSPatterns</code></a> variable has changed somewhat -- replacement strings are no longer automatically passed through FmtPageName() prior to substitution (i.e., it must now be done explicitly).
<div class='vspace'></div></li><li>Page variables and page links inside of <code class='escaped'>(:include:)</code> pages are now treated as relative to the included page, instead of the currently browsed page.  In short, the idea is that links and page variables should be evaluated with respect to the page in which they are written, as opposed to the page in which they appear.  This seems to be more in line with what authors expect.  There are a number of important ramifications of this change:
</li></ul><p class='vspace'><a name='relativeurls' id='relativeurls'></a>
</p><dl><dd><ul><li>We now have a new <code class='escaped'>{*$var}</code> form of page variable, which always refers to "the currently displayed page".  Pages such as Site.PageActions and Site.EditForm that are designed to work on "the currently browsed page" should generally switch to using <code class='escaped'>{*$FullName}</code> instead of <code class='escaped'>{$FullName}</code>.
<div class='vspace'></div></li><li>The &#36;EnableRelativePageLinks and &#36;EnableRelativePageVars settings control the treatment of links and page variables in included pages.  However, to minimize disruption to existing sites, &#36;EnableRelativePageVars defaults to <strong>disabled</strong>.  This will give existing sites an opportunity to convert any absolute <code class='escaped'>{$var}</code> references to be <code class='escaped'>{*$var}</code> instead.
<div class='vspace'></div></li><li>Eventually &#36;EnableRelativePageVars will be enabled by default, so we highly recommend setting <code class='escaped'>$EnableRelativePageVars = 1;</code> in <em>local/config.php</em> to see how a site will react to the new interpretation.  Administrators should especially check any customized versions of the following:
<div class='indent'><a class='wikilink' href='/Site/PageActions'>Site.PageActions</a>
</div><div class='indent'><a class='wikilink' href='/Site/EditForm'>Site.EditForm</a>
</div><div class='indent'><a class='wikilink' href='/Site/PageNotFound'>Site.PageNotFound</a>
</div><div class='indent'>SideBar pages with ?action= links for the current page
</div><div class='indent'><a class='varlink' href='/PmWiki/LayoutVariables#GroupHeaderFmt'><code class='varlink'>&#36;GroupHeaderFmt</code></a>, <a class='varlink' href='/PmWiki/LayoutVariables#GroupFooterFmt'><code class='varlink'>&#36;GroupFooterFmt</code></a>
</div><div class='indent'><a class='wikilink' href='/PmWiki/PageLists'>Page lists</a> that refer to the current group or page, etc in sidebars, headers, and footers
</div><div class='vspace'></div></li><li>The <code class='escaped'>(:include:)</code> directive now has a <code class='escaped'>basepage=</code> option whereby an author can explicitly specify the page upon which relative links and page variables should be based.  If no basepage= option is specified, the included page is assumed to be the base.
</li></ul></dd></dl><div class='vspace'></div><ul><li>Sites that want to retain the pre-2.2 behavior of <code class='escaped'>(:include:)</code> and other items can set <code class='escaped'>$Transition['version'] = 2001900;</code> to automatically retain the 2.1.x defaults.
<div class='vspace'></div></li><li>Text inserted via <code class='escaped'>(:include:)</code> can contain "immediate substitutions" of the form <code class='escaped'>{$$option}</code> -- these are substituted with the value of any options provided to the include directive.
<div class='vspace'></div></li><li>PmWiki now recognizes when it is being accessed via "https:" and switches its internal links appropriately.  This can be overridden by explicitly setting <a class='varlink' href='/PmWiki/PathVariables#ScriptUrl'><code class='varlink'>&#36;ScriptUrl</code></a> and <a class='varlink' href='/PmWiki/PathVariables#PubDirUrl'><code class='varlink'>&#36;PubDirUrl</code></a>.
<div class='vspace'></div></li><li>A new <a class='varlink' href='/PmWiki/LinkVariables#EnableLinkPageRelative'><code class='varlink'>&#36;EnableLinkPageRelative</code></a> option allows PmWiki to generate relative urls for page links instead of absolute urls.
<div class='vspace'></div></li><li>Draft handling capabilities have been greatly improved.  When <a class='varlink' href='/PmWiki/EditVariables#EnableDrafts'><code class='varlink'>&#36;EnableDrafts</code></a> is set, then the "Save" button is relabeled to "Publish" and a "Save draft" button appears.  In addition, an <a class='varlink' href='/PmWiki/SecurityVariables#EnablePublishAttr'><code class='varlink'>&#36;EnablePublishAttr</code></a> configuration variable adds a new "publish" authorization level to distinguish editing from publishing.  See <a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/Drafts' rel='nofollow'>PmWiki:Drafts</a> for more details.
</li></ul><p class='vspace'><a name='ptvstart' id='ptvstart'></a>
</p><ul><li>There is a new <code class='escaped'>{$:var}</code> "page text variable" available that is able to grab text excerpts out of markup content.  For example, <code class='escaped'>{SomePage$:Xyz}</code> will be replaced by a definition of "Xyz" in SomePage.  Page text variables can be defined using definition markup, a line beginning with the variable name and a colon, or a special directive form (that doesn't display anything on output):
<div class='vspace'></div><div class='indent'><pre class='escaped'>
:Xyz: some value            # definition list form
Xyz: some value             # colon form
(:Xyz: some value:)         # directive form
</pre>
</div></li></ul><p><a name='ptvend' id='ptvend'></a>
</p>
<div class='vspace'></div><ul><li>The <code class='escaped'>(:pagelist:)</code> command can now filter pages based on the contents of page variables and/or page text variables.  For example, the following directive displays only those pages that have an "Xyz" page text variable with "some value":
<div class='vspace'></div><div class='indent'><code class='escaped'>(:pagelist $:Xyz="some value":)</code>
</div><div class='vspace'></div>Wildcards also work here, thus the following pagelist command lists pages where the page's title starts with the letter "a":
<div class='vspace'></div><div class='indent'><code class='escaped'>(:pagelist $Title=A* :)</code>
</div><div class='vspace'></div></li><li>The if= option to <code class='escaped'>(:pagelist)</code> can be used to filter pages based on conditional markup:
<div class='vspace'></div><div class='indent'><code class='escaped'>(:pagelist if="auth upload {=$FullName}":)</code>  pages with upload permission
</div><div class='indent'><code class='escaped'>(:pagelist if="date today.. {=$Name}":)</code> pages with names that are dates later than today
</div><div class='vspace'></div></li><li>Spaces no longer separate wildcard patterns -- use commas.  (Most people have been doing this already.)
<div class='vspace'></div></li><li>Because page variables are now "relative", the <code class='escaped'>{$PageCount}, {$GroupCount}, {$GroupPageCount}</code> variables used in pagelist templates are now <code class='escaped'>{$$PageCount}, {$$GroupCount}, {$$GroupPageCount}</code>.
<div class='vspace'></div></li><li>One can now use <code class='escaped'>{$$option}</code> in a pagelist template to obtain the value of any 'option=' provided to the <code class='escaped'>(:pagelist:)</code> command.
<div class='vspace'></div></li><li>The <code class='escaped'>(:pagelist:)</code> directive no longer accepts parameters from urls or forms by default.  In order to have it accept such parameters (which was the default in 2.1 and earlier), add a <code class='escaped'>request=1</code> option to the <code class='escaped'>(:pagelist:)</code> directive.
<div class='vspace'></div></li><li>The <code class='escaped'>count=</code> option to pagelists now accepts negative values to count from the end of the list.  Thus <code class='escaped'>count=5</code> returns the the first five pages in the list, and <code class='escaped'>count=-5</code> returns the last five pages in the list.  In addition, ranges of pages may be specified, as in <code class='escaped'>count=10..19</code> or <code class='escaped'>count=-10..-5</code>.
<div class='vspace'></div></li><li>Pagelist templates may have special <code class='escaped'>(:template first ...:)</code> and <code class='escaped'>(:template last ...:)</code> sections to specify output for the first or last page in the list or a group.  There's also a <code class='escaped'>(:template defaults ...:)</code> to allow a template to specify default options.
<div class='vspace'></div></li><li>PmWiki comes with an ability to cache the results of certain <code class='escaped'>(:pagelist:)</code> directives, to speed up processing on subsequent visits to the page.  To enable this feature, set <a class='varlink' href='/PmWiki/PagelistVariables#PageListCacheDir'><code class='varlink'>&#36;PageListCacheDir</code></a> to the name of a writable directory (e.g., <em>work.d/</em>).
<div class='vspace'></div></li><li><a name='elseifelse' id='elseifelse'></a>The <code class='escaped'>(:if ...:)</code> conditional markup now also understands <code class='escaped'>(:elseif ...:)</code> and <code class='escaped'>(:else:)</code>.  In addition, markup can nest conditionals by placing digits after if/elseif/else, as in <code class='escaped'>(:if1 ...)</code>, <code class='escaped'>(:elseif1 ...:)</code>, <code class='escaped'>(:else1:)</code>, etc.
<div class='vspace'></div></li><li>The <code class='escaped'>(:if date ...:)</code> conditional markup can now perform date comparisons for dates other than the current date and time.
<div class='vspace'></div></li><li><a class='wikilink' href='/PmWiki/WikiTrails'>WikiTrails</a> can now specify #anchor identifiers to use only sections of pages as a trail.
<div class='vspace'></div></li><li>A new <code class='escaped'>(:if ontrail ...:)</code> condition allows testing if a page is listed on a trail.
<div class='vspace'></div></li><li>The extensions .odt, .ods, and .odp (from OpenOffice.org) are now recognized as valid attachment types by default.
<div class='vspace'></div></li><li>A new <a class='wikilink' href='/PmWiki/Blocklist'>blocklist</a> capability has been added to the core distribution.  It allows blocking of posts based on IP address, phrase, or regular expression, and can also make use of publicly available standard blocklists.  See <a class='wikilink' href='/PmWiki/Blocklist'>PmWiki.Blocklist</a> for details.
<div class='vspace'></div></li><li>There is a new <a class='wikilink' href='/SiteAdmin/AuthList'>SiteAdmin.AuthList</a> page that can display a summary of all password and permissions settings for pages on a site.  This page is restricted to administrators by default.
<div class='vspace'></div></li><li>There are new <code class='escaped'>{$PasswdRead}</code>, <code class='escaped'>{$PasswdEdit}</code>, etc. variables that display the current password settings for a page (assuming the browser has attr permissions or whatever permissions are set in &#36;PasswdVarAuth).
<div class='vspace'></div></li><li>Forms creation via the <code class='escaped'>(:input:)</code> markup has been internally refactored somewhat (and may still undergo some changes prior to 2.2.0 release).  The new <code class='escaped'>(:input select ...:)</code> markup can be used to create select boxes, and <code class='escaped'>(:input default ...:)</code> can be used to set default control values, including for radio buttons and checkboxes.
<div class='vspace'></div></li><li>The <code class='escaped'>(:input textarea:)</code> markup now can take values from other sources, including page text variables from other pages.
<div class='vspace'></div></li><li>Specifying <code class='escaped'>focus=1</code> on an <code class='escaped'>(:input:)</code> control causes that control to receive the input focus when a page is loaded.  If a page has multiple controls requesting the focus, then the first control with the lowest value of <code class='escaped'>focus=</code> "wins".
<div class='vspace'></div></li><li>PmWiki now provides a <em>scripts/creole.php</em> module to enable Creole standard markup.  To enable this, add <code class='escaped'>include_once('scripts/creole.php')</code> to a local customization file.
<div class='vspace'></div></li><li>PmWiki adds a new <code class='escaped'>{(...)}</code> <em>markup expression</em> capability, which allows various simple string and data processing (e.g., formatting of dates and times).  This is extensible so that recipe authors and system administrators can easily add custom expression operators.
<div class='vspace'></div></li><li>It's now possible to configure PmWiki to automatically create Category pages whenever a page is saved with category links and the corresponding category doesn't already exist.  Pages are created only if the author has appropriate write permissions into the group.  To enable this behavior, add the following to <em>local/config.php</em>:
<div class='vspace'></div><div class='indent'><code class='escaped'>$AutoCreate['/^Category\\./'] = array('ctime' =&gt; $Now);</code>
</div><div class='vspace'></div></li><li>Sites with wikiwords enabled can now set <a class='varlink' href='/PmWiki/LinkVariables#WikiWordCount'><code class='varlink'>&#36;WikiWordCount</code></a>['WikiWord'] to -1 to indicate that 'WikiWord' should not be spaced according to <a class='varlink' href='/PmWiki/BasicVariables#SpaceWikiWords'><code class='varlink'>&#36;SpaceWikiWords</code></a>.
<div class='vspace'></div></li><li>WikiWords that follow # or &amp; are no longer treated as WikiWords.
<div class='vspace'></div></li><li>Links to non-existent group home pages (e.g., <code class='escaped'>[[Group.]]</code> and <code class='escaped'>[[Group/]]</code>) will now go to the first valid entry of <a class='varlink' href='/PmWiki/LinkVariables#PagePathFmt'><code class='varlink'>&#36;PagePathFmt</code></a>, instead of being hardcoded to "Group.Group".  For example, to set PmWiki to default group home pages to <code class='escaped'>$DefaultName</code>, use
<div class='vspace'></div><div class='indent'><code class='escaped'>$PagePathFmt = array('{$Group}.$1', '$1.{$DefaultName}', '$1.$1');</code>
</div><div class='vspace'></div></li><li>PmWiki now provides a &#36;CurrentTimeISO and &#36;TimeISOFmt variables, for specifying dates in ISO format.
<div class='vspace'></div></li><li><a class='urllink' href='http://www.pmwiki.org/wiki/Cookbook/Cookbook' rel='nofollow'>Cookbook</a> authors can use the internal PmWiki function UpdatePage (temporarily documented at <a class='urllink' href='http://www.pmwiki.org/wiki/Cookbook/DebuggingForCookbookAuthors' rel='nofollow'>DebuggingForCookbookAuthors</a>) to change page text while preserving history/diff information, updating page revision numbers, updating RecentChanges pages, sending email notifications, etc.
<div class='vspace'></div></li><li><a class='wikilink' href='/PmWiki/SkinTemplates'>Skin templates</a> are now required to have &lt;!--HTMLHeader--&gt; and &lt;!--HTMLFooter--&gt; directives.  Setting &#36;EnableSkinDiag causes PmWiki to return an error if this isn't the case for a loaded skin.  Skins that explicitly do not want HTMLHeader or HTMLFooter sections can use &lt;!--NoHTMLHeader--&gt; and &lt;!--NoHTMLFooter--&gt; to suppress the warning.
<div class='vspace'></div></li><li>Added a new "pre" wikistyle for preformatted text blocks.
<div class='vspace'></div></li><li>The xlpage-utf-8.php script now understands how to space UTF-8 wikiwords.  
<div class='vspace'></div></li><li>Searches on utf-8 site are now case-insensitive for utf-8 characters.
<div class='vspace'></div></li><li>Many Abort() calls now provide a link to pages on pmwiki.org that can explain the problem in more detail and provide troubleshooting assistance.
<div class='vspace'></div></li><li>PmWiki no longer reports "?cannot acquire lockfile" if the visitor is simply browsing pages or performing other read-only actions.
<div class='vspace'></div></li><li>The &#36;EnableReadOnly configuration variable can be set to signal PmWiki that it is to run in "read-only" mode (e.g., for distribution on read-only media).  Attempts to perform actions that write to the disk are either ignored or raise an error via Abort().
<div class='vspace'></div></li><li>Including authuser.php no longer automatically calls ResolvePageName().
<div class='vspace'></div></li><li>Authentication using Active Directory is now simplified.  In Site.AuthUser or the &#36;AuthUser variable, set "ldap://name.of.ad.server/" with no additional path information (see PmWiki.AuthUser for more details).
<div class='vspace'></div></li><li>Pages are now saved with a "charset=" attribute to identify the character set in effect when the page was saved.
<div class='vspace'></div></li><li>The phpdiff.php algorithm has been optimized to be smarter about finding smaller diffs.
<div class='vspace'></div></li><li>Removed the (deprecated) "#wikileft h1" and "#wikileft h5" styles from the pmwiki default skin.
<div class='vspace'></div></li><li>The mailposts.php and compat1x.php scripts have been removed from the distribution.
</li></ul><div class='vspace'></div><h2>Version 2.1.27 (2006-12-11)</h2>
<p>This version backports from 2.2.0-beta a bugfix for <a class='varlink' href='/PmWiki/LayoutVariables#TableRowIndexMax'><code class='varlink'>&#36;TableRowIndexMax</code></a> and also support for the <code class='escaped'>{*$Variable}</code> markup.
</p>
<div class='vspace'></div><h2>Version 2.1.26 (2006-09-11)</h2>
<p>This version fixes a bug in feeds.php that would cause feed entries to be mixed up.
</p>
<div class='vspace'></div><h2>Version 2.1.25 (2006-09-08)</h2>
<p>This release fixes a bug in authuser.php introduced by the 2.1.24 release.
</p>
<p class='vspace'>The skin template code has also been extended to allow <code class='escaped'>&lt;!--XMLHeader--&gt;</code> and <code class='escaped'>&lt;!--XMLFooter--&gt;</code> as aliases for <code class='escaped'>&lt;!--HTMLHeader--&gt;</code> and <code class='escaped'>&lt;!--HTMLFooter--&gt;</code>.
</p>
<div class='vspace'></div><h2>Version 2.1.24 (2006-09-06)</h2>
<p>This release makes some improvements and fixes to the <a class='wikilink' href='/PmWiki/AuthUser'>AuthUser</a>
capability.
</p>
<p class='vspace'>A bug in authuser.php that had trouble dealing with non-array values in &#36;AuthUser has been fixed.
</p>
<p class='vspace'>It is now possible to specify group memberships from <em>local/config.php</em> (remember that such entries must come <em>before</em> including the <em>authuser.php</em> script):
</p>
<div class='vspace'></div><pre>    # alice and bob's passwords
    &#36;AuthUser['alice'] = crypt('alicepassword');
    &#36;AuthUser['bob'] = crypt('bobpassword');

    # members of the @writers and @admins groups
    &#36;AuthUser['@writers'] = array('alice',  'bob');
    &#36;AuthUser['@admins'] = array('alice', 'dave');

    # carol is a member of @editors and @writers
    &#36;AuthUser['carol'] = array('@editors', '@writers');
</pre><p class='vspace'>AuthUser can now read from Apache-formatted .htgroup files.  The location of the .htgroup file can be done either in <em>local/config.php</em> or <a class='wikilink' href='/Site/AuthUser'>Site.AuthUser</a>
</p>
<div class='vspace'></div><pre>    # local/config.php:
    &#36;AuthUser['htgroup'] = '/path/to/.htgroup';

    # Site.AuthUser
    htgroup: /path/to/.htgroup
</pre><div class='vspace'></div><h2>Versions 2.1.21, 2.1.22, 2.1.23 (2006-09-05, 2006-09-06)</h2>
<p>This release closes a potential security vulnerability for sites 
that are running with 'register_globals' set to on.  Details of
the vulnerability will be forthcoming on the mailing list
and site.
</p>
<p class='vspace'>Sites that are running with PHP 'register_globals' and 'allow_url_fopen'
set to 'On' should upgrade to this release at the earliest
opportunity.  If upgrading isn't an option, contact Pm for
a patch to older versions.
</p>
<p class='vspace'>There is now a tool available to analyze PmWiki sites for security
and other configuration settings, see <a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/SiteAnalyzer' rel='nofollow'>PmWiki:SiteAnalyzer</a>.
</p>
<p class='vspace'>Version 2.1.23 also corrects a bug that prevented PmWiki from being
able to read pagefiles created by versions of PmWiki before 0.5.6.
</p>
<div class='vspace'></div><h2>Version 2.1.20 (2006-09-04)</h2>
<p>More minor bugfixes:
</p><ul><li>Corrected a bug with WikiWord references appearing in the <code class='escaped'>(:attachlist:)</code> markup.
</li><li>Restore ability to remove/override PmWiki's default CSS settings.
</li></ul><div class='vspace'></div><h2>Version 2.1.19 (2006-08-30)</h2>
<p>This release provides a number of very minor bugfixes and
enhancements:
</p>
<div class='vspace'></div><ul><li>Fixed a bug in the pageindex code that was causing it to not regenerate as quickly as it should.
</li><li>Fixed image/object/embed handling in wikistyles to better support the <a class='urllink' href='http://www.pmwiki.org/wiki/Cookbook/Flash' rel='nofollow'>Cookbook:Flash</a> recipe.
</li><li>Fixed a bug with wikistyles and input form tags.
</li></ul><p class='vspace'>The next release(s) may have a number of substantial code
enhancements and changes, so this release simply closes out
a few items before introducing those changes.
</p>
<div class='vspace'></div><h2>Version 2.1.18 (2006-08-28)</h2>
<p>This release closes a potential cross-site scripting vulnerability
that could allow authors to inject Javascript code through the
various table markups.
</p>
<p class='vspace'>The release also adds a new <code class='escaped'>(:input image:)</code> markup to generate
image input tags in forms.
</p>
<p class='vspace'>Finally, this release corrects a problem with <code class='escaped'>?action=print</code>
failing to properly set the <code class='escaped'>{$Action}</code> page variable.
</p>
<div class='vspace'></div><h2>Version 2.1.17 (2006-08-26)</h2>
<p>This release fixes a long-standing bug with <a class='varlink' href='/PmWiki/DebugVariables#EnableIMSCaching'><code class='varlink'>&#36;EnableIMSCaching</code></a>
(<a class='urllink' href='http://www.pmwiki.org/PITS/00573' rel='nofollow'>PITS:00573</a>), whereby login/logout operations wouldn't invalidate 
browser caches, causing some people to see versions of a page prior
to the login/logout taking place.  
</p>
<p class='vspace'>The new IMS caching code maintains a "imstime" cookie in the 
visitor's browser that keeps track of the time of last login, 
logout, author name change, or site modification.  This cookie
is then used to determine the proper response to browser requests
containing If-Modified-Since headers.  (Previously only the
time of the last site modification was available.)  
</p>
<p class='vspace'>Browsers which do not accept cookies will effectively act as
though IMS caching is disabled.
</p>
<div class='vspace'></div><h2>Version 2.1.16 (2006-08-26) <a name='v2116' id='v2116'></a></h2>
<p>This release makes some improvements to skin handling -- primarily
this improves the capability of relocating skin files to other
locations, and to provide the ability for recipes to insert items
at the <em>end</em> of HTML output.
</p>
<p class='vspace'>This release introduces a <code class='escaped'>&lt;!--HTMLFooter--&gt;</code> directive into
<a class='wikilink' href='/PmWiki/SkinTemplates'>skin templates</a>, which allows recipes and local
customizations to insert output near the end of a document 
using a <a class='varlink' href='/PmWiki/LayoutVariables#HTMLFooterFmt'><code class='varlink'>&#36;HTMLFooterFmt</code></a> array from PHP.
</p>
<p class='vspace'>Also, the <code class='escaped'>&lt;!--HeaderText--&gt;</code> directive, which inserts the
contents of <a class='varlink' href='/PmWiki/LayoutVariables#HTMLHeaderFmt'><code class='varlink'>&#36;HTMLHeaderFmt</code></a> into the output, has now been
renamed to <code class='escaped'>&lt;!--HTMLHeader--&gt;</code>.  PmWiki will continue to
recognize <code class='escaped'>&lt;!--HeaderText--&gt;</code> to preserve compatibility with
existing skins, but <code class='escaped'>&lt;!--HTMLHeader--&gt;</code> is preferred.
</p>
<p class='vspace'>A new <a class='varlink' href='/PmWiki/LayoutVariables#SkinLibDirs'><code class='varlink'>&#36;SkinLibDirs</code></a> array has been introduced which allows
the source locations and urls for skins to be specified from
a customization file.  By default <a class='varlink' href='/PmWiki/LayoutVariables#SkinLibDirs'><code class='varlink'>&#36;SkinLibDirs</code></a> is set as
</p>
<div class='vspace'></div><pre>  <a class='varlink' href='/PmWiki/LayoutVariables#SkinLibDirs'><code class='varlink'>&#36;SkinLibDirs</code></a> = array("./pub/skins/\$Skin"      =&gt; "<a class='varlink' href='/PmWiki/PathVariables#PubDirUrl'><code class='varlink'>&#36;PubDirUrl</code></a>/skins/\$Skin",
                  "<a class='varlink' href='/PmWiki/PathVariables#FarmD'><code class='varlink'>&#36;FarmD</code></a>/pub/skins/\$Skin" =&gt; "<a class='varlink' href='/PmWiki/PathVariables#FarmPubDirUrl'><code class='varlink'>&#36;FarmPubDirUrl</code></a>/skins/\$Skin");
</pre><p class='vspace'>The keys (on the left) indicate the places to look for a "skin .tmpl 
file" in the filesystem, while the values (on the right) indicate the
url location of the "skin css file".  Modifying the value of 
<a class='varlink' href='/PmWiki/LayoutVariables#SkinLibDirs'><code class='varlink'>&#36;SkinLibDirs</code></a> allows a skin .tmpl file to be located anywhere on the 
filesystem.
</p>
<p class='vspace'>As far as I can see, none of the changes introduced by this
release should have any sort of negative impact on existing
sites, so it should be safe to upgrade.  (If I'm wrong, please
let me know.)
</p>
<div class='vspace'></div><h2>Version 2.1.15 (2006-08-25)</h2>
<p>This release includes a number of feature enhancements and code cleanups
as reported or requested by administrators.
</p>
<p class='vspace'>First, AuthUser's LDAP authentication system now allows the use of
a <code class='escaped'>?filter</code> parameter, consistent with urls used for mod_auth_ldap
authorization in Apache.  See the newly updated LDAP section of the
<a class='wikilink' href='/PmWiki/AuthUser'>AuthUser</a> documentation for more details.
</p>
<p class='vspace'>A chicken-and-egg problem with the <code class='escaped'>@_site_*</code> authorization groups
has been resolved.  It's now possible to have a page's read authorization
refer to things such as <code class='escaped'>_site_edit</code>.
</p>
<p class='vspace'>Also, the RetrieveAuthPage() function -- used for retrieving pages only
if the visitor is authorized to do so -- now recognizes a special
level parameter of 'ALWAYS', which means to always authorize access
regardless of the browser or visitors current permissions.  This
may be useful for allowing certain operations to take place from
within trusted scripts without having to grant full authorization
to the browser.
</p>
<p class='vspace'>Hardcoded instances of the <em>local/</em> directory now use a
customizable <a class='varlink' href='/PmWiki/PathVariables#LocalDir'><code class='varlink'>&#36;LocalDir</code></a> variable.  This variable controls where
PmWiki looks for <em>local/config.php</em> and per-group customization 
files.  It may be useful for some <a class='wikilink' href='/PmWiki/WikiFarms'>Wiki Farm</a> contexts.  Note that
this does not change or affect the location of 
<em><a class='varlink' href='/PmWiki/PathVariables#FarmD'><code class='varlink'>&#36;FarmD</code></a>/local/farmconfig.php</em>.
</p>
<p class='vspace'>Some minor internal changes have been made to 
<em>scripts/wikistyles.php</em> to better accommodate the 
wikipublisher recipe.  It's probably better if we don't try
to explain them.  :-)
</p>
<div class='vspace'></div><h2>Version 2.1.13, 2.1.14 (2006-08-15, 2006-08-16)</h2>
<p>This release fixes a bug in handling numeric passwords, and also
allows ldaps:// authentication sources.
</p>
<div class='vspace'></div><h2>Version 2.1.12 (2006-08-07)</h2>
<p>This version introduces the ability to nest divs and tables.
The standard <code class='escaped'>(:table:)</code> and <code class='escaped'>(:div:)</code> markups are still
available, except that a <code class='escaped'>(:div:)</code> may contain a <code class='escaped'>(:table:)</code>
and vice-versa.  
</p>
<p class='vspace'>As in previous versions of PmWiki, the <code class='escaped'>(:div:)</code> markup
automatically closes any previous <code class='escaped'>(:div:)</code>.  However, there
are now <code class='escaped'>(:div1:)</code>, <code class='escaped'>(:div2:)</code>, etc. markups (and the
corresponding <code class='escaped'>(:div1end:)</code>, <code class='escaped'>(:div2end:)</code>, ...) which can be
used to uniquely distinguish divs for nesting purposes.
</p>
<p class='vspace'>To restore PmWiki's previous "non-nested" div behavior, set
$Transition['nodivnest'] = 1; in a local customization file.
</p>
<p class='vspace'>Other changes in this release:
</p><ul><li>Add a <code class='escaped'>(:noaction:)</code> directive to suppress display of page actions.
</li><li>Allow anchor tags to contain colons, hyphens, and dots.
</li><li>Add "white-space" as an allowed wikistyle.
</li><li>Other minor bug fixes and typographical corrections.
</li></ul><div class='vspace'></div><h2>Version 2.1.11 (2006-06-09)</h2>
<p>This is a minor update that prevents <code class='escaped'>%define=%</code> wikistyles
from generating empty paragraphs in the HTML output.  Prior to
this release, markup lines containing only wikistyle definitions
would often generate empty paragraphs (&lt;p&gt;&lt;/p&gt;), this release
changes things so that a markup line beginning with <code class='escaped'>%define=</code>
and containing only wikistyle definitions will not initiate
a new paragraph.
</p>
<div class='vspace'></div><h2>Version 2.1.10 (2006-06-03)</h2>
<p>Version 2.1.4 introduced an <code class='escaped'>{$Action}</code> page variable that would
contain the current <code class='escaped'>?action=</code> value.  Unfortunately, this page
variable conflicted with a pre-existing <code class='escaped'>$Action</code> global variable
that was being used by skins to display a human-friendly form of
the current action.  Since there's not really a clean way to resolve
this, I've decided to keep <code class='escaped'>{$Action}</code> as a page variable
with the current action value (as introduced in 2.1.4), and change 
the global for skins to be &#36;ActionTitle.  This will require updating
skins to use &#36;ActionTitle instead of $Action.  I apologize for the
conflict.
</p>
<p class='vspace'>This release adds a Site.LocalTemplates page for the <code class='escaped'>fmt=#xyz</code>
option in pagelist and search results.  The list of pages to be
searched can be customized via the <a class='varlink' href='/PmWiki/PagelistVariables#FPLTemplatePageFmt'><code class='varlink'>&#36;FPLTemplatePageFmt</code></a> variable.
The <code class='escaped'>fmt=#xyz</code> option will now also search the current page for
a matching template before searching Site.LocalTemplates
and Site.PageListTemplates.
</p>
<p class='vspace'>The 'pmwiki' skin now places a &lt;span&gt; around the "Recent Changes"
link in the header to make it somewhat easier to style.
</p>
<div class='vspace'></div><h2>Version 2.1.9 (2006-06-02)</h2>
<p>This release fixes a long-standing and difficult-to-find bug with
the handling of <code class='escaped'>[[~Author]]</code> links.
</p>
<div class='vspace'></div><h2>Version 2.1.8 (2006-06-01)</h2>
<p>This release simply changes the &#36;NotifyListFmt variable to be
<a class='varlink' href='/PmWiki/Notify#NotifyListPageFmt'><code class='varlink'>&#36;NotifyListPageFmt</code></a> (more descriptive), and adds a <a class='varlink' href='/PmWiki/Notify#NotifyList'><code class='varlink'>&#36;NotifyList</code></a>
array that can be used to specify notification entries from
a configuration file.
</p>
<div class='vspace'></div><h2>Version 2.1.7 (2006-05-31)</h2>
<p>This release introduces a variety of improvements and bugfixes.
</p>
<p class='vspace'><strong>Vspace paragraphs are now divs:</strong>
Version 2.1.7 changes the way that PmWiki handles vertical
space in output (the infamous <code class='escaped'>&lt;p class='vspace&gt;&lt;/p&gt;</code> sequence).
Instead of using paragraphs, PmWiki now generates 
<code class='escaped'>&lt;div class='vspace'&gt;&lt;/div&gt;</code> for vertical space sequences.
In addition, PmWiki is able to collapse the vspace &lt;div&gt; with
any subsequent paragraph tags, such that a sequence like
</p>
<div class='vspace'></div><pre>    &lt;div class='vspace&gt;&lt;/div&gt;&lt;p&gt;...paragraph text...&lt;/p&gt;
</pre><p class='vspace'>is automatically converted to
</p>
<div class='vspace'></div><pre>    &lt;p class='vspace'&gt;...paragraph text...&lt;/p&gt;
</pre><p class='vspace'>This allows for better control over paragraph spacing.  It is
expected that this change in vspace handling will not have
any detrimental effects on existing sites.  Sites that have
set custom values for <a class='varlink' href='/PmWiki/LayoutVariables#HTMLVSpace'><code class='varlink'>&#36;HTMLVSpace</code></a> will continue to use the
custom value.  A site that wants to restore PmWiki's earlier
handling of vspace can do so by adding the following to
<em>local/config.php</em>:
</p>
<div class='vspace'></div><pre>    <a class='varlink' href='/PmWiki/LayoutVariables#HTMLVSpace'><code class='varlink'>&#36;HTMLVSpace</code></a> = "&lt;p class='vspace'&gt;&lt;/p&gt;";
</pre><p class='vspace'><strong>Improved email notifications of changes:</strong>  Version 2.1.7
incorporates a <em>notify.php</em> script that provides improved
capabilities for sending email notifications in response to
page changes.  This script is intended to replace the previous
<a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/MailPosts' rel='nofollow'>MailPosts</a> capability, which is now deprecated (but will
continue to be supported in PmWiki 2.1.x).  Details and 
instructions for using notify.php are in the <a class='wikilink' href='/PmWiki/Notify'>PmWiki.Notify</a> page.
</p>
<p class='vspace'><strong>Added 'group home page' syntax:</strong> A group name followed
by only a dot or slash is automatically treated as a reference
to the group's home page, whatever it happens to be.  This simplifies
some pagelist templates as well as a number of other items. 
In particular, group links in pagelist output now points to the
correct locations (instead of being a page in the current group).
</p>
<p class='vspace'>Several bugs and vulnerabilities have been fixed:
</p><ul><li>The default width of edit forms is now more appropriate for Internet Explorer.
</li><li>Authentication failure messages from LDAP are now suppressed.
</li><li>Some cross-site scripting vulnerabilities in uploads and page links have been corrected (courtesy Moritz Naumann, <a class='urllink' href='http://moritz-naumann.com' rel='nofollow'>http://moritz-naumann.com</a>).
</li><li>A problem with invalid pagenames resulting in redirect loops has been corrected.
</li></ul><div class='vspace'></div><h2>Version 2.1.6 (2006-05-22)</h2>
<p>The primary improvement in this release is the addition of 
a pagename argument to the <code class='escaped'>(:if auth:)</code> conditional markup.
Thus one can display markup based on a visitor's authorization
to a page other than the current one.  For example, to test
for edit privileges to Main.WikiSandbox, one would use
<code class='escaped'>(:if auth edit Main.WikiSandbox:)</code>.  As before, if the
pagename is omitted the directive tests authorization to
the current page.
</p>
<p class='vspace'>This release also restores the ability to have hyphens in
InterMap link names.
</p>
<p class='vspace'>Lastly, the release closes a potential cross-site scripting
vulnerability in the WikiTrail markup, and provides some small
performance improvements.
</p>
<div class='vspace'></div><h2>Version 2.1.4, 2.1.5 (2006-03-29)</h2>
<p>This release fixes a few more bugs:
</p><ul><li>Pagelist-based feeds using ?action=rss work again.
</li><li>Multi-term searches with special characters is fixed.
</li></ul><p class='vspace'>The release also adds a couple of items:
</p><ul><li>There is now an <code class='escaped'>{$Action}</code> page variable.
</li><li>Usernames and passwords submitted to authuser.php can contain quotes.
</li><li>The <code class='escaped'>(:attachlist:)</code> command now uses a natural case sort.
</li></ul><div class='vspace'></div><h2>Version 2.1.3 (2006-03-17)</h2>
<p>This release fixes a bug that prevents the <code class='escaped'>lines=</code> option from
working on sites running PHP 5.1.1 or later.  It also re-fixes
a bug involving empty passwords and LDAP authentication.
</p>
<div class='vspace'></div><h2>Version 2.1.2 (2006-03-16)</h2>
<p>This release fixes a bug with handling "nopass" passwords.  It also
makes some speed improvements to large web feeds, and fixes a couple
of minor HTML tag mismatches.
</p>
<div class='vspace'></div><h2>Version 2.1.1 (2006-03-13)</h2>
<p>This release primarily fixes a bug with passwords containing
multiple authorization groups, and in the process slightly liberalized
the formatting of "@group" and "id:name" handling.  This release also 
adds a new mechanism for managing and displaying FAQ pages.
</p>
<div class='vspace'></div><h2>Version 2.1.0 (2006-03-12)</h2>
<p>This set of release notes is fairly lengthy, as it chronicles all of the changes since 2.0.13 (four months of development).  A lot remains the same, but some changes warrant extra care when upgrading from a 2.0.x version to 2.1.0 (thus the major revision number change).  As always, questions and issues can be mailed to the pmwiki-users mailing list.
</p>
<p class='vspace'>Here's the list:
</p>
<div class='vspace'></div><ul><li>WikiWords are now disabled by default.  To enable them, set "<a class='varlink' href='/PmWiki/BasicVariables#LinkWikiWords'><code class='varlink'>&#36;LinkWikiWords</code></a> = 1;" in a <a class='wikilink' href='/PmWiki/LocalCustomizations'>local customization</a> file.  As of 2.1.beta2, you can now leave WikiWords enabled but have links to non-existent pages display without decoration -- to do this, place the following lines in <em>pub/css/local.css</em>:
</li></ul><div class='vspace'></div><pre>    span.wikiword a.createlink { display:none; }
    span.wikiword a.createlinktext 
      { border-bottom:none; text-decoration:none; color:inherit; }
</pre><div class='vspace'></div><ul><li>The <code class='escaped'>(:pagelist:)</code> code has been substantially revised.  Pagelist formatting can now be specified using markup, and several defaults are available from <a class='wikilink' href='/Site/PageListTemplates'>Site.PageListTemplates</a>.  Also, several built-in pagelist formatting functions (FPLSimple, FPLByGroup, FPLGroup) are now removed in favor of the template code.  The FPLByGroup function can be restored by setting $Transition['fplbygroup']=1; . <strong>Remark:</strong> Check to see if your page <a class='wikilink' href='/Site/PageListTemplates'>Site.PageListTemplates</a> is not passwordprotected for viewing, otherwise the resulting pagelist will not be shown. 
<div class='vspace'></div></li><li><code class='escaped'>(:pagelist:)</code> now also understands wildcards in <code>group=</code> and <code>name=</code> arguments, as well as excluding specific names and groups.
<div class='vspace'></div></li><li><code class='escaped'>(:pagelist:)</code> now has an "order=random" option.
<div class='vspace'></div></li><li><code class='escaped'>(:searchbox:)</code> now accepts "group=", "link=", "list=", etc. options to be passed along to the search results.  It also accepts a "target=" option that identifies the page on which to send the search query.
<div class='vspace'></div></li><li><code class='escaped'>?action=search</code> will display the contents of the current page if it contains a <code class='escaped'>(:</code><code class='escaped'>searchresults:)</code> directive, otherwise it uses the content of the page identified by <a class='varlink' href='/PmWiki/PagelistVariables#PageSearchForm'><code class='varlink'>&#36;PageSearchForm</code></a> (default is the search page for the current language translation).  
<div class='vspace'></div></li><li>PmWiki no longer maintains a ".linkindex" file -- it now has a ".pageindex" file that contains not only a table of links, but also words used in each page (to speed up term searches).  The maintenance of the .pageindex file can be disabled by setting <a class='varlink' href='/PmWiki/PagelistVariables#PageIndexFile'><code class='varlink'>&#36;PageIndexFile</code></a>=''; 
<div class='vspace'></div></li><li>The <a class='varlink' href='/PmWiki/PagelistVariables#EnablePageListProtect'><code class='varlink'>&#36;EnablePageListProtect</code></a> variable now defaults to true, so that read-only pages appear in pagelists only if the visitor has read authorization.  Note that this can also slow down some <code class='escaped'>(:pagelist:)</code> and search commands, so if the site doesn't have any read-only pages or if you aren't worried with cloaking read-only pages from searchlists, it might be worth setting <a class='varlink' href='/PmWiki/PagelistVariables#EnablePageListProtect'><code class='varlink'>&#36;EnablePageListProtect</code></a>=0; .
<div class='vspace'></div></li><li>Whitespace indentation rules now exist and are enabled by default.  Any line that begins with whitespace and aligns with a previous list item is considered to be "within" that list item.  Text folds and wraps as normal, and the <code class='escaped'>(:linebreaks:)</code> directive is honored.  To turn off whitespace indentation, use <code class='escaped'>DisableMarkup('^ws');</code>.
<div class='vspace'></div></li><li>A single blank line after a <code class='escaped'>!!Heading</code> is silently ignored.
<div class='vspace'></div></li><li>The <code class='escaped'>(:redirect:)</code> directive is now a true markup, and can be embedded inside conditional markups or includes.  It also allows redirecting to an anchor in a page, such as <code class='escaped'>(:redirect PageName#anchor:)</code>.  A new <code class='escaped'>from=</code> option allows the redirect to take place only from pages that match the given wildcard specification.  The <code class='escaped'>status=</code> option allows a 301, 302, 303, or 307 HTTP status code to be returned.
<div class='vspace'></div></li><li>The built-in authorization function has gone through some substantial internal changes, however these changes should be fully backward compatible so that it doesn't impact any existing sites.  (If it <em>does</em> cause a problem, please let me know so I can investigate why!)  The password prompts are now specified by an admin-customizable Site.AuthForm page.  In addition, the authorization function no longer creates PHP sessions for visitors that aren't being authenticated.
<div class='vspace'></div></li><li>The authuser.php has likewise been substantially updated.  The new version should have complete backwards compatibility with previous authuser.php settings, but this version also offers the ability to configure authentication resources and authorization groups through the <a class='wikilink' href='/Site/AuthUser'>Site.AuthUser</a> page.  Note that by default the Site.AuthUser page can only be edited using the admin password.
<div class='vspace'></div></li><li>The <a class='varlink' href='/PmWiki/SecurityVariables#EnableSessionPasswords'><code class='varlink'>&#36;EnableSessionPasswords</code></a> variable can be used to control whether passwords are held in PHP sessions.  (This does not affect user authentication via <a class='wikilink' href='/PmWiki/AuthUser'>AuthUser</a>, however.)
<div class='vspace'></div></li><li>The $Author variable now defaults to <a class='varlink' href='/PmWiki/BasicVariables#AuthId'><code class='varlink'>&#36;AuthId</code></a> if not otherwise set by a script or cookie.
<div class='vspace'></div></li><li>The <a class='wikilink' href='/Site/SideBar'>Site.SideBar</a> page now defaults its edit password to the sitewide edit password (in <a class='varlink' href='/PmWiki/SecurityVariables#DefaultPasswords'><code class='varlink'>&#36;DefaultPasswords</code></a>['edit']).
<div class='vspace'></div></li><li>PmWiki now supports a "draft edit" mode, enabled by <a class='varlink' href='/PmWiki/EditVariables#EnableDrafts'><code class='varlink'>&#36;EnableDrafts</code></a> = 1.  This creates a "Save as draft" button that will save a page under a "-Draft" suffix, for intermediate edits.
<div class='vspace'></div></li><li>There is now an ?action=login action available.
<div class='vspace'></div></li><li>A potential security vulnerability for sites running PHP 5 with register_globals enabled has been fixed.
<div class='vspace'></div></li><li>The <code class='escaped'>[[PageName |+]]</code> markup is now available by default; this creates a link to PageName and uses that page's title as the link text.
<div class='vspace'></div></li><li>What used to be "markup variables" are now "<a class='wikilink' href='/PmWiki/PageVariables'>page variables</a>".  These are always specified using the <code>{$<em>variable</em>}</code> syntax, and can be used in markup and in $...Fmt strings.  In addition, one can request a value for a specific page by placing the pagename in front of the variable, as in <code>{<em>pagename</em>$<em>variable</em>}</code>.
<div class='vspace'></div></li><li>The <em>scripts/rss.php</em> script is now <em>scripts/feeds.php</em>, and is a complete redesign for <a class='wikilink' href='/PmWiki/WebFeeds'>web feed</a> generation.  The new version supports UTF-8 and other encodings, can generate Atom 1.0 (<code class='escaped'>?action=atom</code>), Dublin Core Metadata (<code class='escaped'>?action=dc</code>) output, and enclosures for podcasting.  It also allows feeds to be generated from trails, groups, categories, and backlinks, and provides options (same as pagelists) for sorting and filtering the contents of the feed.  Most sites can simply switch to using <code class='escaped'>include_once("scripts/feeds.php");</code> instead of the previous <em>rss.php</em> include.  The <em>rss.php</em> file has been removed from the distribution (but still works with PmWiki 2.1 for those sites that wish to continue using it).
<div class='vspace'></div></li><li><a class='wikilink' href='/PmWiki/InterMap'>InterMap</a> entries can now come from a Site.InterMap page as well as the <em>local/localmap.txt</em> and <em>local/farmmap.txt</em> files.  The format of these files has changed slightly, in that the InterMap name should now have a colon after it (previously the colon was omitted).
<div class='vspace'></div></li><li>We can now provide better control of robot (webcrawler) interactions with a site to reduce server load and bandwidth.  The &#36;RobotPattern variable is used to detect robots based on the user-agent string, and any actions not listed in the &#36;RobotActions array will return a 403 Forbidden response to robots.  In addition, setting &#36;EnableRobotCloakActions will eliminate any forbidden ?action= values from page links returned to robots, which will reduce bandwidth loads from robots even further (<a class='urllink' href='http://www.pmwiki.org/PITS/00563' rel='nofollow'>PITS:00563</a>).
<div class='vspace'></div></li><li>Non-existent page handling has been improved; whenever a browser hits a non-existent page, PmWiki returns the contents of Site.PageNotFound and a 404 ("Not Found") status code.
<div class='vspace'></div></li><li>Page links that have "?action=" in their query arguments are now treated as "existing page" links even if the page does not exist.
<div class='vspace'></div></li><li>The PmWiki default skin now adds rel='nofollow' to various action links.
<div class='vspace'></div></li><li>Some of the CSS styles in the PmWiki default skin have been changed for better presentation.
<div class='vspace'></div></li><li>The gui edit buttons have transparent (instead of white) borders so they integrate better into skins.
<div class='vspace'></div></li><li>The <a class='varlink' href='/PmWiki/DebugVariables#EnableIMSCaching'><code class='varlink'>&#36;EnableIMSCaching</code></a> variable is now much smarter, it can detect changes in local customization files as well as pages.
<div class='vspace'></div></li><li><a class='wikilink' href='/PmWiki/WikiStyles'>WikiStyles</a> can now make percentage specifications by using "pct" to mean "%".
<div class='vspace'></div></li><li>Class attributes in <a class='wikilink' href='/PmWiki/WikiStyles'>WikiStyle</a> shortcuts are now cumulative, so that <code class='escaped'>%class1 class2%</code> results in <code class='escaped'>class='class1 class2'</code> instead of just <code class='escaped'>class='class2'</code> in the output.
<div class='vspace'></div></li><li>A problem with the <code class='escaped'>(:include PageName#from#:)</code> markup not working has been fixed (<a class='urllink' href='http://www.pmwiki.org/PITS/00560' rel='nofollow'>PITS:00560</a>).
<div class='vspace'></div></li><li>Viewing a GroupHeader or GroupFooter page no longer displays the contents twice.
<div class='vspace'></div></li><li>It's now easier to share pages among multiple sites (e.g., <a class='wikilink' href='/PmWiki/WikiFarms'>WikiFarms</a>), see <a class='urllink' href='http://www.pmwiki.org/wiki/Cookbook/SharedPages' rel='nofollow'>Cookbook:SharedPages</a> (<a class='urllink' href='http://www.pmwiki.org/PITS/00459' rel='nofollow'>PITS:00459</a>).
<div class='vspace'></div></li><li>A problem with nested apostrophe markups has been fixed (<a class='urllink' href='http://www.pmwiki.org/PITS/00590' rel='nofollow'>PITS:00590</a>).
<div class='vspace'></div></li><li>PmWiki is now smarter about not surrounding block HTML tags with &lt;p&gt;...&lt;/p&gt; tags.
<div class='vspace'></div></li><li>If an <code class='escaped'>[[#anchor]]</code> is used more than once in a page, only the first generates an actual anchor (to preserve XHTML validity).
<div class='vspace'></div></li><li>There are now <code class='escaped'>(:if equal ...:)</code> and <code class='escaped'>(:if exists pagename:)</code> <a class='wikilink' href='/PmWiki/ConditionalMarkup'>conditional markups</a>.
<div class='vspace'></div></li><li>Compound conditional markup expressions are now possible -- e.g. <code class='escaped'>(:if [ group PmWiki &amp;&amp; ! name PmWiki ] :)</code> .
<div class='vspace'></div></li><li>Added an &#36;InputValues array that can supply default values for certain form controls (<a class='urllink' href='http://www.pmwiki.org/PITS/00566' rel='nofollow'>PITS:00566</a>).
<div class='vspace'></div></li><li>The default setting of <a class='varlink' href='/PmWiki/UploadVariables#UploadUrlFmt'><code class='varlink'>&#36;UploadUrlFmt</code></a> is now based on <a class='varlink' href='/PmWiki/PathVariables#PubDirUrl'><code class='varlink'>&#36;PubDirUrl</code></a> instead of <a class='varlink' href='/PmWiki/PathVariables#ScriptUrl'><code class='varlink'>&#36;ScriptUrl</code></a>.
<div class='vspace'></div></li><li>The $text global variable has been removed (use $_GET['text'], $_POST['text'], or $_REQUEST['text']).
<div class='vspace'></div></li><li>A possible problem with url-encoding of attachments with non-ASCII characters has been addressed (<a class='urllink' href='http://www.pmwiki.org/PITS/00588' rel='nofollow'>PITS:00588</a>).
<div class='vspace'></div></li><li>Page actions in non-existent pages no longer display with non-existent link decorations.
<div class='vspace'></div></li><li>A README.txt file has been added, and several documentation files are now available through the docs/ directory.
<div class='vspace'></div></li><li>PmWiki is no longer available through CVS on sourceforge.net.  It is now available via SVN on pmwiki.org, at svn://pmwiki.org/pmwiki/tags/latest .  For more details, see <a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/Subversion' rel='nofollow'>PmWiki:Subversion</a>.
<div class='vspace'></div></li><li>The &#36;NewlineXXX variable (deprecated in 2.0.0) has been removed.
<div class='vspace'></div></li><li>There is experimental support for server-side caching of pages that take a long time to render; this is currently an unsupported feature and may be removed in future releases.
</li></ul><p class='vspace'><span  style='color: red;'>Wiki administrators should note that from this release on PmWiki defaults to having WikiWords disabled.</span>
</p>
<p class='vspace'>To make sure WikiWords are enabled, use <code class='escaped'>$LinkWikiWords = 1;</code> in
the <em>local/config.php</em> file.
</p>
<div class='vspace'></div><hr />
<p>Bugs and other requests can be reported to the PmWiki Issue Tracking 
System at <a class='urllink' href='http://www.pmwiki.org/wiki/PITS/PITS' rel='nofollow'>http://www.pmwiki.org/wiki/PITS/PITS</a>.  Any help
in testing, development, and/or documentation is greatly appreciated..
</p>
<p class='vspace'><a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/Release%20Notes%20archive' rel='nofollow'>Release Notes archive</a> - notes for versions older than 2.1.0.
</p>
<p class='vspace'> 
</p><div style="clear:right; float:right; font-size:smaller; background-color:#eee;" >
<p><span class='wikitrail'>&lt; <a class='wikilink' href='/PmWiki/DesignNotes'>Design notes</a> | <a class='wikilink' href='/PmWiki/DocumentationIndex#trailstart#trailend'>Documentation Index</a> | <a class='wikilink' href='/PmWiki/ChangeLog'>Change log</a> &gt;</span> 
</p></div>
<p><a name='trailend' id='trailend'></a>
<br clear='all' />
</p><div  style='background-color: #ffe; border-top: 1px solid black; font-size: .8em;' > 
<p>This page may have <span class='commentout-pmwikiorg'> a more recent version on <a class='urllink' href='http://www.pmwiki.org' rel='nofollow'>pmwiki.org</a>: <a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/ReleaseNotes' rel='nofollow'>PmWiki:ReleaseNotes</a>, and </span> a talk page: <a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/ReleaseNotes-Talk' rel='nofollow'>PmWiki:ReleaseNotes-Talk</a>.
</p></div>
</div>

      </td>
    </tr></table>
<!--PageFooterFmt-->
  <div id='wikifoot'>
    <div class='footinfo'></div>
  </div>
<!--/PageFooterFmt-->
</body>
</html>
