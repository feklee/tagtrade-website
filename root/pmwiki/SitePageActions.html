<!DOCTYPE html 
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>TagTrade Wiki | PmWiki / SitePageActions browse</title>
  <meta http-equiv="Content-type" content="text/html;charset=iso-8859-1" />
  <meta http-equiv='Content-Style-Type' content='text/css' />
  <link rel='stylesheet' href='/pmwiki/pub/skins/tagtrade/tagtrade.css' type='text/css' />
  <!--HeaderText--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code.escaped { white-space: nowrap; }
  .vspace { margin-top:1.33em; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  .editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }

  table.markup { border:2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  table.vert td.markup1 { border-bottom:1px solid #ccf; }
  table.horiz td.markup1 { width:23em; border-right:1px solid #ccf; }
  table.markup caption { text-align:left; }
  div.faq p, div.faq pre { margin-left:2em; }
  div.faq p.question { margin:1em 0 0.75em 0; font-weight:bold; }
  div.faqtoc div.faq * { display:none; }
  div.faqtoc div.faq p.question 
    { display:block; font-weight:normal; margin:0.5em 0 0.5em 20px; line-height:normal; }
  div.faqtoc div.faq p.question * { display:inline; }
   
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none; }

--></style>  <meta name='robots' content='noindex,nofollow' />

</head>
<body>
<!--PageHeaderFmt-->
  <div id='wikilogo'><a href=''><img src='/pmwiki/pub/skins/tagtrade/tagtrade-32.gif'
    alt='TagTrade Wiki' border='0' /></a></div>
  <div id='wikihead'>
  </div>
<!--/PageHeaderFmt-->
  <table id='wikimid' width='100%' cellspacing='0' cellpadding='0'><tr>
<!--PageLeftFmt-->
      <td id='wikileft' valign='top'>
        <p class='sidehead'> <a class='wikilink' href='/Main/HomePage'>Main</a>
</p><ul><li><a class='wikilink' href='/Main/Systems'>Systems</a>
</li><li><a class='wikilink' href='/Main/DiscussionGroups'>Discussion groups</a>
</li><li><a class='wikilink' href='/Main/Jabber'>Jabber group chat</a>
</li><li><a class='wikilink' href='/Main/Irc'>IRC channel</a>
</li><li><a class='wikilink' href='/Main/Events'>Events</a>
</li><li><a class='wikilink' href='/Main/TODO'>To do</a>
</li><li><a class='wikilink' href='/Main/WikiSandbox'>Wiki sandbox</a>
</li></ul><p class='vspace sidehead'> <a class='wikilink' href='/Devel/HomePage'>Devel</a>
</p><ul><li><a class='wikilink' href='/Devel/TODO'>To do</a>
</li><li><a class='wikilink' href='/Devel/BackEnd'>Back end</a>
</li><li><a class='wikilink' href='/Devel/FrontEnd'>Front end</a>
</li><li><a class='wikilink' href='/Devel/AuthoringPages'>Authoring pages</a>
</li></ul><p class='vspace sidehead'> <a class='wikilink' href='/Profiles/HomePage'>Profiles</a>
</p>
<p class='vspace sidehead'> <a class='wikilink' href='/PmWiki/PmWiki'>PmWiki</a>
</p>
<p class='vspace sidehead'> <a class='wikilink' href='/DocArchive/HomePage'>Doc archive</a>
</p>
<p class='vspace sidehead'> <a class='wikilink' href='/Portal/HomePage'>Portal</a>
</p><ul><li><a class='wikilink' href='/Portal/WikiSandbox'>Wiki sandbox</a>
</li></ul>
</td>
<!--/PageLeftFmt-->
      <td id='wikibody' valign='top'>
<!--PageTitleFmt-->
        <div id='wikititle'>
          <div class='pagegroup'><a href='/PmWiki'>PmWiki</a> /</div>
          <h1 class='pagetitle'>SitePageActions</h1></div>
<!--PageText-->
<div id='wikitext'>
<p>
<a name='trailstart' id='trailstart'></a> 
</p><div style="clear:right;" >
</div>
<p><span class='frame rfloat' style='font-size: smaller; background-color: #ffffcc;'> authors (basic)</span>
</p>
<p class='vspace'>The <a class='wikilink' href='/Site/PageActions'>Site.PageActions</a> uses a large number of PmWiki features in concert. 
This page gives a brief explanation of the features commonly used on <a class='wikilink' href='/Site/PageActions'>Site.PageActions</a>, and pointers to where more information can be found.
</p>
<p class='vspace'>To start with, lets look at a typical Site.PageActions page.<br />Below is what is currently shipping with PmWiki version 2.2.0:
</p><div class='indent'><pre class='escaped'>
* %item rel=nofollow class=browse    accesskey='$[ak_view]'%      [[{*$FullName}               | $[View] ]]
* %item rel=nofollow class=edit      accesskey='$[ak_edit]'%      [[{*$FullName}?action=edit   | $[Edit] ]]
* %item rel=nofollow class=diff      accesskey='$[ak_history]'%   [[{*$FullName}?action=diff   | $[History] ]]
(:if auth upload:)
* %item rel=nofollow class=upload    accesskey='$[ak_attach]'%    [[{*$FullName}?action=upload | $[Attach] ]]
(:ifend:)
* %item rel=nofollow class=print     accesskey='$[ak_print]'%     [[{*$FullName}?action=print  | $[Print] ]]
(:if group Site,SiteAdmin,Cookbook:) (:comment delete if and ifend to enable backlinks:)
* %item rel=nofollow class=backlinks accesskey='$[ak_backlinks]'% [[{*$Name}?action=search&amp;q=link={*$FullName} | $[Backlinks] ]]
(:ifend:)
(:if enabled AuthPw:)
* %item rel=nofollow class=logout    accesskey='$[ak_logout]'%''  [-[[{*$FullName}?action=logout | $[logout] ]]-]''
(:ifend:)
</pre>
</div><p class='vspace'>That can seem a bit daunting, but we'll take it piece by piece. To start with, we'll look at just the first line, and take it apart. This will also give us a good handle on how most of the other lines work.
</p>
<div class='vspace'></div><h2>List</h2>
<p>The first line, and in fact every line, begins with an unindented '<code>*</code>', which means its an item in an unordered list. 
You can find out more about lists on the <a class='wikilink' href='/PmWiki/BasicEditing'>Basic Editing</a> page. 
PmWiki will normally display an unordered list as a set of bulleted items, but they can appear differently depending on the context they are displayed in. This difference in display is generally controlled by CSS defined in the Skin.
</p>
<p class='vspace'>If you take a look at the <a class='wikilink' href='/Site/PageActions'>Site.PageActions</a> page with the default PmWiki <a class='wikilink' href='/PmWiki/Skins'>skin</a>, you'll see that the list appears twice, once as a normal bulleted list in the middle of the page, and once as a row of unbulleted actions at the top right corner of the page. This is controlled by the fact that they are being rendered inside an HTML <code class='escaped'>&lt;div&gt;</code> with an <code class='escaped'>id</code> of 'wikicmds' and the CSS for the default PmWiki skin asks that list items inside a wikicmds element be displayed that way.
</p>
<p class='vspace'>You can see the difference for yourself since PmWiki has markup that lets you ask for something to be rendered inside a div with a given <code class='escaped'>id</code>:
</p><table class='markup horiz' align='center'>
      <tr><td class='markup1' valign='top'><pre>* test1
* test2
* test3

(:div id=wikicmds:)
* test1
* test2
* test3
(:divend:)
</pre></td><td 
        class='markup2' valign='top'><ul><li>test1
</li><li>test2
</li><li>test3
</li></ul><div class='vspace'></div><div id='wikicmds' >
<ul><li>test1
</li><li>test2
</li><li>test3
</li></ul></div>
</td></tr></table>
<div class='vspace'></div><h2>Style</h2>
<p>Following the '<code class='escaped'>*</code>', on the line we have <code class='escaped'>%item ... %</code> which is a <a class='wikilink' href='/PmWiki/WikiStyles'>WikiStyle</a>. It is used to control the properties of a given output element, like its size or color. By default they apply to the text between them and the end of the line or a closing <code class='escaped'>%%</code>, whichever is sooner. So, for example, one can enter <code class='escaped'>"this %blue%text%% is blue"</code> and it will appear as "this <span  style='color: blue;'>text</span> is blue".
</p>
<p class='vspace'>In this case the WikiStyle starts with the word <code class='escaped'>item</code>, and that says to apply the given style to the entire list item as opposed to just the text that follows. In particular, it causes PmWiki to generate HTML of
</p>
<div class='vspace'></div><div class='indent'><code class='escaped'>&lt;li class='edit'&gt;...&lt;/li&gt;</code>
</div><p class='vspace'>instead of
</p>
<div class='vspace'></div><div class='indent'><code class='escaped'>&lt;li&gt;&lt;span class='edit'&gt;...&lt;/span&gt;&lt;/li&gt;</code>
</div><p class='vspace'>Setting the class attribute of the list item allows CSS properties to be applied to the item that corresponds to the current action. For example, to have the current action display with a background color of blue, a wiki administrator can do:
</p>
<div class='vspace'></div><div class='indent'><code><a class='varlink' href='/PmWiki/LayoutVariables#HTMLStylesFmt'><code class='varlink'>&#36;HTMLStylesFmt</code></a>[]</code><code class='escaped'> = ' .{$Action} { background-color: blue; }';</code>
</div><p class='vspace'>Then if the current action is 'edit' (as in "?action=edit"), the list item corresponding to the edit action will be drawn with a blue background.
</p>
<p class='vspace'>The other property inside the <code class='escaped'>%item ... %</code> WikiStyle is the accesskey='' statement. <a class='wikilink' href='/PmWiki/AccessKeys'>AccessKeys</a> are keyboard shortcuts for tasks that would otherwise require a mouse. They can be attached to links or to form elements and the WikiStyle will use whichever it finds first on the line. In this case they will attach to the link <code class='escaped'>[[{*$FullName} | $[View] ]]</code>.
</p>
<div class='vspace'></div><h2>Accesskey</h2>
<p>An accesskey can be defined in a number of locations, but essentially it is a phrase translation following the model used for internationalizations. PmWiki's accesskey defaults are defined in <code>scripts/prefs.php</code>, but can be overridden in lots of different places, including skins, language translation pages (XLPage), and even per-browser preferences (see <a class='wikilink' href='/Site/Preferences'>Site.Preferences</a>).
</p>
<p class='vspace'>The <code class='escaped'>$[...]</code> markup defines phrase translations, used for internationalizations (and access keys, as noted above). In the first line of <a class='wikilink' href='/Site/PageActions'>Site.PageActions</a> it is used in both <code class='escaped'>$[ak_view]</code> and <code class='escaped'>$[View]</code>. Essentially <code class='escaped'>$[View]</code> tells PmWiki to substitute the current translation of "View".  If no translation is defined for "View", then PmWiki just uses the phrase inside the brackets.
</p>
<p class='vspace'>You can most easily see this working in the other languages sections of PmWiki. For example, at <a class='urllink' href='http://pmwiki.org/wiki/PmWikiDe/PmWikiDe' rel='nofollow'>PmWikiDe/PmWikiDe</a> you'll notice that the default "View", "Edit", "History", and "Print" actions are displayed as "Artikel", "Bearbeiten", "Historie", and "Druckansicht".
This is because the PmWikiDe group is loading in a set of translations from <a class='urllink' href='http://pmwiki.org/wiki/PmWikiDe.XLPage' rel='nofollow'>PmWikiDe.XLPage</a> 
</p>
<p class='vspace'>That page defines things like
</p>
<div class='vspace'></div><div class='indent'><pre class='escaped'>'View' =&gt; 'Artikel'
'Edit' =&gt; 'Bearbeiten'
'History' =&gt; 'Historie'
'Print' =&gt; 'Druckansicht'</pre>
</div><p class='vspace'>which says that things like <code class='escaped'>$[View]</code> and <code class='escaped'>$[Edit]</code> should be replaced by "Artikel" and "Bearbeiten".
</p>
<p class='vspace'>This makes it very easy for PmWiki to support multiple languages, since a recipe author can simply put any translatable prompts or phrases inside of <code class='escaped'>$[...]</code>, and leave it to others to actually build the translation tables (either locally or on <a class='urllink' href='http://pmwiki.org' rel='nofollow'>pmwiki.org</a> for others to use). More information about <code class='escaped'>$[...]</code> is available at <a class='wikilink' href='/PmWiki/Internationalizations'>Internationalizations</a>.
</p>
<div class='vspace'></div><h2>Link</h2>
<p>All that leaves on the first line to be explained is the <a class='wikilink' href='/PmWiki/Links'>link</a> itself: <code class='escaped'>[[{*$FullName} | $[View] ]]</code>. Links are not complex, but this one is using both the internationalization feature and a <a class='wikilink' href='/PmWiki/PageVariables'>Page Variable</a>. The <code class='escaped'>$[View]</code> has already been explained and it shows up in the link text section of link markup, so that, if viewed in English, the link will appear as <a class='selflink' href='/PmWiki/SitePageActions'>View</a>.
</p>
<p class='vspace'>The link target section contains the <code class='escaped'>{*$FullName}</code> variable. This variable expands to the full name of the page on which it is being displayed, including the group and page names. For simple browsing, this is good enough, because viewing a page is the default action to perform on a page. Later lines use link targets like <code class='escaped'>{*$FullName}?action=edit</code> which says to go to the currently displayed page and start editing it.
</p>
<div class='vspace'></div><h2>If</h2>
<p>This explains what all of the '<code class='escaped'>*</code>' lines are about. That only leaves the <code class='escaped'>(:if auth upload:)</code> and <code class='escaped'>(:ifend:)</code> lines, and they go together. The first starts some <a class='wikilink' href='/PmWiki/ConditionalMarkup'>Conditional Markup</a> and the second ends it. The <code class='escaped'>(:if test :)</code> markup only lets the following text be displayed if the test succeeds. The text that conditionally displayed ends at the next <code class='escaped'>(:if...:)</code> statement so an empty <code class='escaped'>(:ifend:)</code> is a convenient way to end the conditional block. The particular test being used here is <code class='escaped'>auth upload</code> which is only true if the current user is authorized to upload files to the wiki. Thus, the conditional block says to only display a link to perform an upload if the user is actually allowed to upload.
</p>
<p class='vspace'>Depending on the security and permissions model on a given site, its not unusual to see many more conditional markups that test if, for example, a user has editing rights to the current page. More information on all the different conditions can be found at the <a class='wikilink' href='/PmWiki/ConditionalMarkup'>Conditional Markup</a> page, and a general index of all the PmWiki documentation can be found at <a class='wikilink' href='/PmWiki/DocumentationIndex'>Documentation Index</a>.
</p>
<p class='vspace'>Hopefully this bit of documentation has answered your questions about the <a class='wikilink' href='/Site/PageActions'>Site.PageActions</a> page. 
If not, you may wish to consult the helpful people on one of the <a class='wikilink' href='/PmWiki/MailingLists'>PmWiki Mailing Lists</a>.
</p>
<div class='vspace'></div><hr />
<p class='vspace'><span  style='color: green;'>Note that any Group can have a <a style='color: green' class='createlinktext' rel='nofollow' 
    href='/PmWiki/PageActions?action=edit'>Page Actions</a><a style='color: green' rel='nofollow' 
    class='createlink' href='/PmWiki/PageActions?action=edit'>?</a> page, not just <strong>Site</strong> - this page should be edited to reflect that.</span>
 
<a name='trailend' id='trailend'></a>
<br clear='all' />
</p><div  style='background-color: #ffe; border-top: 1px solid black; font-size: .8em;' > 
<p>This page may have <span class='commentout-pmwikiorg'> a more recent version on <a class='urllink' href='http://www.pmwiki.org' rel='nofollow'>pmwiki.org</a>: <a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/SitePageActions' rel='nofollow'>PmWiki:SitePageActions</a>, and </span> a talk page: <a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/SitePageActions-Talk' rel='nofollow'>PmWiki:SitePageActions-Talk</a>.
</p></div>
</div>

      </td>
    </tr></table>
<!--PageFooterFmt-->
  <div id='wikifoot'>
    <div class='footinfo'></div>
  </div>
<!--/PageFooterFmt-->
</body>
</html>
