<!DOCTYPE html 
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>TagTrade Wiki | PmWiki / SkinTemplates browse</title>
  <meta http-equiv="Content-type" content="text/html;charset=iso-8859-1" />
  <meta http-equiv='Content-Style-Type' content='text/css' />
  <link rel='stylesheet' href='/pmwiki/pub/skins/tagtrade/tagtrade.css' type='text/css' />
  <!--HeaderText--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code.escaped { white-space: nowrap; }
  .vspace { margin-top:1.33em; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  .editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }

  table.markup { border:2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  table.vert td.markup1 { border-bottom:1px solid #ccf; }
  table.horiz td.markup1 { width:23em; border-right:1px solid #ccf; }
  table.markup caption { text-align:left; }
  div.faq p, div.faq pre { margin-left:2em; }
  div.faq p.question { margin:1em 0 0.75em 0; font-weight:bold; }
  div.faqtoc div.faq * { display:none; }
  div.faqtoc div.faq p.question 
    { display:block; font-weight:normal; margin:0.5em 0 0.5em 20px; line-height:normal; }
  div.faqtoc div.faq p.question * { display:inline; }
   
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none; }

--></style>  <meta name='robots' content='noindex,nofollow' />

</head>
<body>
<!--PageHeaderFmt-->
  <div id='wikilogo'><a href=''><img src='/pmwiki/pub/skins/tagtrade/tagtrade-32.gif'
    alt='TagTrade Wiki' border='0' /></a></div>
  <div id='wikihead'>
  </div>
<!--/PageHeaderFmt-->
  <table id='wikimid' width='100%' cellspacing='0' cellpadding='0'><tr>
<!--PageLeftFmt-->
      <td id='wikileft' valign='top'>
        <p class='sidehead'> <a class='wikilink' href='/Main/HomePage'>Main</a>
</p><ul><li><a class='wikilink' href='/Main/Systems'>Systems</a>
</li><li><a class='wikilink' href='/Main/DiscussionGroups'>Discussion groups</a>
</li><li><a class='wikilink' href='/Main/Jabber'>Jabber group chat</a>
</li><li><a class='wikilink' href='/Main/Irc'>IRC channel</a>
</li><li><a class='wikilink' href='/Main/Events'>Events</a>
</li><li><a class='wikilink' href='/Main/TODO'>To do</a>
</li><li><a class='wikilink' href='/Main/WikiSandbox'>Wiki sandbox</a>
</li></ul><p class='vspace sidehead'> <a class='wikilink' href='/Devel/HomePage'>Devel</a>
</p><ul><li><a class='wikilink' href='/Devel/TODO'>To do</a>
</li><li><a class='wikilink' href='/Devel/BackEnd'>Back end</a>
</li><li><a class='wikilink' href='/Devel/FrontEnd'>Front end</a>
</li><li><a class='wikilink' href='/Devel/AuthoringPages'>Authoring pages</a>
</li></ul><p class='vspace sidehead'> <a class='wikilink' href='/Profiles/HomePage'>Profiles</a>
</p>
<p class='vspace sidehead'> <a class='wikilink' href='/PmWiki/PmWiki'>PmWiki</a>
</p>
<p class='vspace sidehead'> <a class='wikilink' href='/DocArchive/HomePage'>Doc archive</a>
</p>
<p class='vspace sidehead'> <a class='wikilink' href='/Portal/HomePage'>Portal</a>
</p><ul><li><a class='wikilink' href='/Portal/WikiSandbox'>Wiki sandbox</a>
</li></ul>
</td>
<!--/PageLeftFmt-->
      <td id='wikibody' valign='top'>
<!--PageTitleFmt-->
        <div id='wikititle'>
          <div class='pagegroup'><a href='/PmWiki'>PmWiki</a> /</div>
          <h1 class='pagetitle'>SkinTemplates</h1></div>
<!--PageText-->
<div id='wikitext'>
<p>
<a name='trailstart' id='trailstart'></a> 
</p><div style="clear:right; float:right; font-size:smaller; background-color:#eee;" >
<p><span class='wikitrail'>&lt; <a class='wikilink' href='/PmWiki/Skins'>Skins</a> | <a class='wikilink' href='/PmWiki/DocumentationIndex#trailstart#trailend'>Documentation Index</a> | <a class='wikilink' href='/PmWiki/SitePreferences'>Site Preferences</a> &gt;</span> 
</p></div>
<div style="clear:right;" >
</div>
<p>This page describes the skin template files (.tmpl) that are used to create PmWiki <em>skins</em>, and how PmWiki uses them. As described in the <a class='wikilink' href='/PmWiki/Skins'>skins</a> page, a skin is a collection of files that specifies the layout for PmWiki pages. Each skin must include a template file that provides the skeleton for displaying a PmWiki page.
</p>
<div class='vspace'></div><h2><a name='findingprocessing' id='findingprocessing'></a>Finding and Processing Templates</h2>
<p>When you set the value of the $Skin variable in a configuration file like <code>local/config.php</code>, like this
</p><div class='indent'><pre class='escaped'>
## Use the Foo Skin.
$Skin = 'foo';
</pre>
</div><p class='vspace'>it tells PmWiki to search for a skin of that name, and use it. The usual result of the search is for PmWiki to load a template file from the appropriate skin directory. In this example, that would probably be the file <code>pub/skins/foo/foo.tmpl</code>.
</p>
<p class='vspace'>The actual processing that PmWiki goes through to find a template file is important for those who are making complex skins, so its worth mentioning what those steps are:
</p>
<div class='vspace'></div><div class='frame rfloat' style='width: 25%; margin-left: 2em; font-size: smaller;' > 
<h2><a name='security' id='security'></a>Security Note</h2>
<p>The default value for <code>$SkinLibDirs</code> has server-side and client-side files stored in the same publicly-accessible directory. That is, <code>&#36;SkinDir</code> and <code><a class='varlink' href='/PmWiki/PathVariables#SkinDirUrl'><code class='varlink'>&#36;SkinDirUrl</code></a></code> point to the same place. This is done for convenience (both for the skin user, and the skin writer), but it is not necessary.
</p>
<p class='vspace'>It has the side effect that its possible to construct a URL (<a class='urllink' href='http://www.pmwiki.org/pmwiki/pub/skins/pmwiki/pmwiki.tmpl' rel='nofollow'>like this one</a>) that will let you look at the contents of the the <code>.tmpl</code> or <code>.php</code> files that a skin uses. This is usually not an issue as skin files should not contain any sensitive information.
</p>
<p class='vspace'>Still, a purist might want to move their <code>.tmpl</code> and <code>.php</code> files out of the directories that are accessible as URLs, and modify their <code>$SkinLibDirs</code> array to reflect this.
</p></div>
<div class='vspace'></div><ol><li>When <code>&#36;PageTemplateFmt</code> is blank (as it should be), PmWiki gathers the names of all candidate skins. It starts with any action-specific skin that is specified in <code><a class='wikilink' href='/PmWiki/LayoutVariables#ActionSkin'>&#036;ActionSkin</a>[$action]</code>. Thus, if the current action is 'login', and <code><a class='varlink' href='/PmWiki/LayoutVariables#ActionSkin'><code class='varlink'>&#36;ActionSkin</code></a>['login']</code> is <code>'Bar'</code>, then PmWiki will look for a skin named 'Bar'. 
<div class='vspace'></div></li><li>If no skin has been found yet, it looks for the skin(s) named in the <code>$Skin</code> variable (which is allowed to be an array) and uses the first skin it can find. If it gets to the end of the list without finding a skin, it issues an error.
<div class='vspace'></div></li><li>To attempt to find a skin, PmWiki first consults the <code><a class='wikilink' href='/PmWiki/LayoutVariables#SkinLibDirs'>$SkinLibDirs</a></code> variable to know where to look. Skins consist of server-side files that are loaded by PmWiki (such as .php and .tmpl files) and client-side files (such as .css files and images) that will be requested by the user's browser when they look at a skinned PmWiki page. <code><a class='varlink' href='/PmWiki/LayoutVariables#SkinLibDirs'><code class='varlink'>&#36;SkinLibDirs</code></a></code> is an array of key/value pairs. The key is a directory to look in for the server-side files, while the corresponding value is a URL that points to the public client-side resources used by the skin. The default value of <code>$SkinLibDirs</code> is:
<div class='indent'><pre class='escaped'>
$SkinLibDirs = array(
   "./pub/skins/\$Skin"      =&gt; "$PubDirUrl/skins/\$Skin",
   "$FarmD/pub/skins/\$Skin" =&gt; "$FarmPubDirUrl/skins/\$Skin");
</pre>
</div><div class='vspace'></div>So, using the above definitions, PmWiki would try to find the skin 'foo' by looking for a directory called <code>./pub/skins/foo</code> and then for <code><a class='varlink' href='/PmWiki/PathVariables#FarmD'><code class='varlink'>&#36;FarmD</code></a>/pub/skins/foo</code> (with the value of <code><a class='varlink' href='/PmWiki/PathVariables#FarmD'><code class='varlink'>&#36;FarmD</code></a></code> replaced by the root server directory for Farm files). The first such directory that was found would be assumed to contain the skin it was looking for. It would then set <code>&#36;SkinDir</code> to the name of this directory and <code><a class='varlink' href='/PmWiki/PathVariables#SkinDirUrl'><code class='varlink'>&#36;SkinDirUrl</code></a></code> to the corresponding URL.
<div class='vspace'></div></li><li>Once a valid skin directory has been found, PmWiki starts processing the files in that directory, looking for a <code>.php</code> skin file to run. It first looks for one with the same name as the skin. So, if the skin is 'foo', it looks for <code>foo.php</code>. If no such file is found, it then checks for a file named <code>skin.php</code>. If one of these <code>.php</code> files is found, PmWiki loads and runs it. This allows a skin to define custom markup, or custom configuration parameters. It also allows a skin to choose between which of several different <code>.tmpl</code> files to load.
<div class='vspace'></div>To specify which <code>.tmpl</code> file to load, simply call <code>LoadPageTemplate()</code> inside the skin <code>.php</code> file, with the name of the <code>.tmpl</code> file to be loaded:
<div class='vspace'></div><div class='indent'><code>LoadPageTemplate($pagename, "&#36;SkinDir/xyz.tmpl");</code>
</div><div class='vspace'></div>For example, a skin might specify a special template to be used if the action is 'print':
<div class='vspace'></div><div class='indent'><pre class='escaped'>
if ($GLOBALS['action'] == 'print')
  LoadPageTemplate($pagename, "$SkinDir/print.tmpl");
</pre>
</div><div class='vspace'></div>When the action is something else, PmWiki will fall back to loading the default <code>.tmpl</code> file instead.
<div class='vspace'></div></li><li>If no appropriate <code>.php</code> file is found, or if that file doesn't load a template, then PmWiki falls back to looking for a template with the same name as the skin, or, failing that, any <code>.tmpl</code> file at all, so long as its the only one in the directory. If it finds one, it will load and process it. If not, it will issue an error.
</li></ol><div class='vspace'></div><h2><a name='fileformat' id='fileformat'></a>Template file format</h2>
<p>A template file is basically an HTML file that also contains variable substitutions (indicated by '$') and special directives embedded in HTML comments.  The following special directives are <em>required</em> in the template file.  
</p><ol><li>The directive <code class='escaped'>&lt;!--PageText--&gt;</code> belongs to the &lt;body&gt; section of the HTML document, and tells PmWiki where the main content of each wiki page should be placed.  
</li><li>The directive <code class='escaped'>&lt;!--HTMLHeader--&gt;</code>, which goes somewhere in the &lt;head&gt; section of the HTML document.
</li><li>The directive <code class='escaped'>&lt;!--HTMLFooter--&gt;</code> directive, which typically goes before the final &lt;/body&gt; tag and is used by some recipes to insert things at the end of the HTML document. <span style='font-size:83%'> <span  style='color: green;'><em>Prior to PmWiki 2.2.0 the <code class='escaped'>&lt;!--HTMLFooter--&gt;</code> directive was optional.</em> </span></span>
</li></ol><p class='vspace'>When PmWiki displays a page, it replaces the directives and variable substitutions with the values appropriate to the current page.  For example, the <code class='escaped'>&lt;!--PageText--&gt;</code> directive is replaced with the page's contents, while any instances of &#36;PageUrl are replaced with the url (address) of the current page.
</p>
<p class='vspace'>There is a long list of variables available for substitution in pages; some of the
most useful include:
</p><div class='indent'><pre class='escaped'>
$PageUrl         the url of the current page
$ScriptUrl       the base url to the pmwiki.php script
$Title           the page's title (e.g., "`SkinTemplates")
$Titlespaced     the page's title with spaces (e.g., "Skin Templates")
$Group           the name of the current group  (e.g., "`PmWiki")
$FullName        the page's full name (e.g., "`PmWiki.SkinTemplates")
$LastModified    the page's last modification time
$PageLogoUrl     the url of a site logo
$WikiTitle       the site's title
$SkinDirUrl      the url of the skin's folder
</pre>
</div><p class='vspace'>This last variable, <a class='varlink' href='/PmWiki/PathVariables#SkinDirUrl'><code class='varlink'>&#36;SkinDirUrl</code></a>, is particularly useful in templates as it allows the skin designer to refer to other files (such as images or style sheets) in the skin folder without having to know the exact url.
</p>
<p class='vspace'>The template is not limited to using the variables listed here; nearly any PHP global variable that begins with a capital letter can be used in a skin template.  <a class='wikilink' href='/PmWiki/PageVariables'>Page variables</a> can also be used in templates.
</p>
<div class='vspace'></div><h2><a name='directives' id='directives'></a> Skin directives</h2>
<p>Besides the required <code class='escaped'>&lt;!--PageText--&gt;</code> and <code class='escaped'>&lt;!--HTMLHeader--&gt;</code> directives, PmWiki provides other built-in directives for generating page output.  It's not necessary to use any of these directives, but they can often add capabilities to a skin 
</p>
<div class='vspace'></div><dl><dt><code class='escaped'>&lt;!--wiki:Main.SomePage--&gt;</code></dt><dd>
</dd><dt><code class='escaped'>&lt;!--page:Main.SomePage--&gt;</code></dt><dd>
</dd><dt> </dt><dd>The <code class='escaped'>&lt;!--wiki:Main.SomePage--&gt;</code> directive outputs the contents of Main.SomePage.  $-substitutions are allowed in directives, thus a directive like <code class='escaped'>&lt;!--wiki:$Group.SomePage--&gt;</code> will include "SomePage" of the current group.  
<div class='vspace'></div></dd><dt> </dt><dd>If multiple pages are listed in the directive, then only the first available page is used.  Thus <code class='escaped'>&lt;!--wiki:$Group.SomePage Site.SomePage--&gt;</code> will display the contents of SomePage in the current group if it exists, and Site.SomePage if it doesn't.  To always display Site.SomePage, even if $Group.SomePage exists, use two consecutive <code class='escaped'>&lt;!--wiki:...--&gt;</code> directives.
<div class='vspace'></div></dd><dt> </dt><dd>The <code class='escaped'>&lt;!--wiki:...--&gt;</code> directive only displays pages for which the browser has read permissions.  The <code class='escaped'>&lt;!--page:...--&gt;</code> directive displays pages even if the browser doesn't have read permission.
<div class='vspace'></div></dd><dt><code class='escaped'>&lt;!--file:somefile.txt--&gt;</code></dt><dd>
</dd><dt> </dt><dd>The directive <code class='escaped'>&lt;!--file:somefile.txt--&gt;</code> outputs the contents of another file (on the local filesystem) at the point of the directive.  If the file to be included is a .php script, then the PHP script is executed and its output is sent to the browser.  Like the <code class='escaped'>&lt;!--wiki:...--&gt;</code> directive above, $-substitutions are available to be able to output files based on the current page name or group.
<div class='vspace'></div></dd><dt><code class='escaped'>&lt;!--markup:...--&gt;</code></dt><dd>
</dd><dt> </dt><dd>The markup directive processes any text that follows the colon as wiki markup and displays that in the output.  
<div class='vspace'></div></dd><dt><code class='escaped'>&lt;!--function:SomeFunction args--&gt;</code></dt><dd>
</dd><dt> </dt><dd>This directive calls a PHP function named "SomeFunction", passing the current page's name and the text following the function name as arguments.  PHP functions called in this manner are typically defined in a local customization file. Args allows only one argument, which has to be splitted then. <code class='escaped'>&lt;!--function:SomeFunction arg1 arg2 arg3--&gt;</code> generates one parameter "arg1 arg2 arg3". However variables can be used (like &#36;LastModifiedBy).
</dd></dl><div class='vspace'></div><h2><a name='sections' id='sections'></a> Page sections</h2>
<p>A template file can designate "sections" that are included or excluded from the output based on <a class='wikilink' href='/PmWiki/PageDirectives'>page directives</a> or other criteria.  A section always begins with <code class='escaped'>&lt;!--Page...Fmt--&gt;</code> and continues to the next section, the end of the template file, or <code class='escaped'>&lt;!--/Page...Fmt--&gt;</code>.  For example, a template can specify a <code class='escaped'>&lt;!--PageLeftFmt--&gt;</code> section that is excluded from the output whenever the <code class='escaped'>(:noleft:)</code> directive is encountered in the page's contents.  PmWiki's predefined sections (and their corresponding page directives) are:
</p><div class='indent'><pre class='escaped'>
&lt;!--PageHeaderFmt--&gt;          (:noheader:)
&lt;!--PageFooterFmt--&gt;          (:nofooter:)
&lt;!--PageTitleFmt--&gt;           (:notitle:)
&lt;!--PageLeftFmt--&gt;            (:noleft:)
&lt;!--PageRightFmt--&gt;           (:noright:)
&lt;!--PageActionFmt--&gt;          (:noaction:)
</pre>
</div><p class='vspace'>Skin designers can define custom sections and markups, but currently all section names in the template must begin with "Page" and end with "Fmt". As mentioned you also have to define the corresponding markup (for example in your config.php) like this: 
</p>
<div class='vspace'></div><div class='indent'><pre class='escaped'>Markup('noxyz', 'directives',  '/\\(:noxyz:\\)/ei',
    "SetTmplDisplay('PageXYZFmt',0)");</pre> 
</div><div class='vspace'></div><h2><a name='i18n' id='i18n'></a> Internationalization (i18n)<a name='Internationalization' id='Internationalization'></a></h2>
<p>Skins can also be <a class='wikilink' href='/PmWiki/Internationalizations'>internationalized</a> by using <code class='escaped'>$[...]</code> substitutions.  Any string placed inside of <code class='escaped'>$[...]</code> is treated as a "translatable phrase", and the phrase is looked up in the current translation tables for a corresponding output phrase.  If a translation is available, then the translated phrase is substituted at that point, otherwise the original phrase is left intact.
</p>
<p class='vspace'>For example, the substitution <code class='escaped'>$[Edit]</code> will display the current translation of "Edit" if it is known, otherwise it displays "Edit".  Thus, the same template can be used for multiple languages, displaying "Editer" when French translations are loaded, "Bearbeiten" when German translations are loaded, and "Edit" when no translation is available.
</p>
<div class='vspace'></div><h2>Understanding old config files</h2>
<div class='outdent'><span  style='color: red;'>This information is deprecated</span>, but we're still including it in the docs so you can better understand any really old <code>local/config.php</code> files you look at. 
</div><p>The original method of telling PmWiki where to find a skin used to be to set <code>&#36;PageTempateFmt</code> to the path of a <code>.tmpl</code> file on the server. This is still respected by PmWiki, so if, for example, you were to set <code>&#36;PageTemplateFmt</code> to <code>./pub/skins/foo/foo.tmpl</code> then PmWiki would simply load and use that file, but without setting the special <code>&#36;SkinDir</code> and <code><a class='varlink' href='/PmWiki/PathVariables#SkinDirUrl'><code class='varlink'>&#36;SkinDirUrl</code></a></code> variables that are required by all modern skins.
</p><div class='indent'><span  style='color: red;'>DO NOT USE <code>&#36;PageTemplateFmt</code></span>
</div><div class='vspace'></div><div class='faq' > <a name='faq' id='faq'></a> 
<p class='vspace question'> How do I customize the CSS styling of my PmWiki layout?<a name='customcss' id='customcss'></a></p>
<p class='vspace'> See <a class='wikilink' href='/PmWiki/Skins'>Skins</a> for how to change the default PmWiki skin.  See also <a class='urllink' href='http://www.pmwiki.org/wiki/Cookbook/Skins' rel='nofollow'>Cookbook:Skins</a>, where you will find pre-made templates you can use to customize the appearance of your site.  You can also create a file called <em>local.css</em> in the <em>pub/css/</em> directory and add CSS selectors there (this file gets automatically loaded if it exists).  Or, styles can be added directly into a local customization file by using something like:
</p>
<div class='vspace'></div><div class='indent'><code class='escaped'>$HTMLStylesFmt[] = '.foo { color:blue; }';</code>
</div><p class='vspace question'> Where can the mentioned "translation table" be found for adding translated phrases?</p>
<p> See <a class='wikilink' href='/PmWiki/Internationalizations'>Internationalizations</a>.
</p>
<p class='vspace question'> Is it possible to have the edit form in full page width, with no sidebar?</p>
<p> If the sidebar is marked with <code class='escaped'>&lt;!--PageLeftFmt--&gt;</code>, adding <code class='escaped'>(:noleft:)</code> to Site.EditForm will hide it when a page is edited.
</p>
<p class='vspace question'> Can I easily hide the Home Page title from the homepage?</p>
<p> Yes, you can use in the wiki page either <code>(:title Some other title:)</code> to change it or <code>(:notitle:)</code> to hide it.
</p>
<p class='vspace question'> Is it possible to hide the Search-Bar in the default PmWiki Skin?</p>
<p> Yes, please see <a class='urllink' href='http://www.pmwiki.org/wiki/Cookbook/HideSearchBar' rel='nofollow'>Cookbook:HideSearchBar</a>.
</p>
<p class='vspace'> 
</p></div><div style="clear:right; float:right; font-size:smaller; background-color:#eee;" >
<p><span class='wikitrail'>&lt; <a class='wikilink' href='/PmWiki/Skins'>Skins</a> | <a class='wikilink' href='/PmWiki/DocumentationIndex#trailstart#trailend'>Documentation Index</a> | <a class='wikilink' href='/PmWiki/SitePreferences'>Site Preferences</a> &gt;</span> 
</p></div>
<p><a name='trailend' id='trailend'></a>
<br clear='all' />
</p><div  style='background-color: #ffe; border-top: 1px solid black; font-size: .8em;' > 
<p>This page may have <span class='commentout-pmwikiorg'> a more recent version on <a class='urllink' href='http://www.pmwiki.org' rel='nofollow'>pmwiki.org</a>: <a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/SkinTemplates' rel='nofollow'>PmWiki:SkinTemplates</a>, and </span> a talk page: <a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/SkinTemplates-Talk' rel='nofollow'>PmWiki:SkinTemplates-Talk</a>.
</p></div>
</div>

      </td>
    </tr></table>
<!--PageFooterFmt-->
  <div id='wikifoot'>
    <div class='footinfo'></div>
  </div>
<!--/PageFooterFmt-->
</body>
</html>
